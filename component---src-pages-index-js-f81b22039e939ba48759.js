(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{145:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(150),o=t(151),u=t(146),c=t.n(u),l=(t(74),t(179)),s=t(147),m=t(154),d=t(4),f=t.n(d),g="#111",p="#fff",b="#222",v="#333",h="#3a3a3a",E="#444",y="#666",w="#ddd",k="#ff8c00",S="#bb3322";function O(){var e=c()(["\n  color: white;\n"]);return O=function(){return e},e}function j(){var e=c()(["\n  color: white;\n"]);return j=function(){return e},e}function x(){var e=c()(["\n  margin: 0;\n  font-size: medium;\n  display: flex;\n  justify-content: space-between;\n"]);return x=function(){return e},e}function C(){var e=c()(["\n  margin: 0 auto;\n  max-width: 960;\n  padding: 0.3rem 0.5rem;\n"]);return C=function(){return e},e}var T=function(e){var n=e.siteTitle,t=e.currentUser,r=e.setCurrentUser,i=e.setLoginSuccessful;return a.a.createElement("header",{style:{background:g}},a.a.createElement(U,null,a.a.createElement(D,null,a.a.createElement(m.a,{to:"/",onClick:function(){sessionStorage.setItem("tab","Welcome"),document.location.reload()},style:{color:p,textDecoration:"none"}},n," "),t&&a.a.createElement(I,null,t.username),a.a.createElement(L,{onClick:function(){sessionStorage.clear(),r(void 0),i(!1)}},"Sign Out"))))},U=s.b.div(C()),D=s.b.h1(x()),I=s.b.span(j()),L=s.b.span(O());T.propTypes={siteTitle:f.a.string},T.defaultProps={siteTitle:""};var M=T,F=t(186),A=t.n(F),_=(t(162),t(188)),P=t.n(_),V=t(189),R=t.n(V),z=function(){var e=P()(A.a.mark(function e(n,t){var r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(n,{params:{token:t}}).then(function(e){return e&&e.data}).catch(function(e){return console.error("GET-error: ",e),{error:e}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),Y=function(){var e=P()(A.a.mark(function e(n,t,r){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post(n,t,{params:{token:r}}).then(function(e){return console.log("POST-response: ",e),e&&e.data}).catch(function(e){return console.error("POST-error: ",e),{error:e}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(n,t,r){return e.apply(this,arguments)}}(),X=function(){var e=P()(A.a.mark(function e(n,t,r){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.put(n,t,{params:{token:r}}).then(function(e){return console.log("PUT-response",e),e&&e.data}).catch(function(e){return console.error("PUT-error: ",e),{error:e}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(n,t,r){return e.apply(this,arguments)}}(),B=function(){var e=P()(A.a.mark(function e(n,t){var r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.delete(n).then(function(e){return console.log("DELETE-response: ",e),e&&e.data}).catch(function(e){return console.error("DELETE-error: ",e),{error:e}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}();function H(){var e=c()(["\n  display: flex;\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  outline: none;\n  color: ",";\n  margin: 1rem;\n  padding: 0.5rem;\n"]);return H=function(){return e},e}var W=function(e){var n=e.placeholder,t=e.type,r=e.value,i=e.setValue;return a.a.createElement(q,{placeholder:n,type:t,value:r,onChange:function(e){return i(e.target.value)}})},q=s.b.input(H(),b,p,p);function N(){var e=c()(["\n  width: ","rem;\n  height: ","rem;\n  border-radius: 5rem;\n  margin: ",";\n  visibility: ",";\n"]);return N=function(){return e},e}var Q=function(e){var n=e.image,t=e.isVisible,r=e.size,i=e.margin;return a.a.createElement(J,{isVisible:n&&t,margin:i,src:n,size:r,alt:"Image unavailable"})},J=s.b.img(N(),function(e){return e.size},function(e){return e.size},function(e){return e.margin},function(e){return e.isVisible?"visible":"hidden"}),G="https://pure-ridge-86504.herokuapp.com",K="https://cdn.iconscout.com/icon/premium/png-256-thumb/human-user-profile-man-face-avatar-51412.png";function Z(){var e=c()(["\n  background-color: ",";\n  color: ",";\n  padding: 0.5rem 3rem;\n  margin: 1rem;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return Z=function(){return e},e}function $(){var e=c()(["\n  display: flex;\n  text-align: center;\n  flex-direction: column;\n  justify-content: center;\n"]);return $=function(){return e},e}var ee=s.b.div($()),ne=s.b.button(Z(),b,p,E),te=function(e,n,t){n&&n.find(function(n){return n.username===e.username||n.email===e.email})||(Y(G+"/users",e,"Unauthorized").then(function(e){console.log("USER-CREATED-response: ",e)}),t(!0))},re=function(e){var n=e.setSignup,t=e.setSignUpSuccessful,i=Object(r.useState)(!1),o=i[0],u=i[1],c=Object(r.useState)(""),l=c[0],s=c[1],m=Object(r.useState)(""),d=m[0],f=m[1],g=Object(r.useState)(""),p=g[0],b=g[1],v=Object(r.useState)(""),h=v[0],E=v[1],y=Object(r.useState)(""),w=y[0],k=y[1],S=Object(r.useState)(""),O=S[0],j=S[1],x=Object(r.useState)(""),C=x[0],T=x[1],U=Object(r.useState)(""),D=U[0],I=U[1],L=Object(r.useState)(0),M=L[0],F=L[1];return Object(r.useEffect)(function(){setTimeout(function(){return u(!0)},200)},[]),Object(r.useEffect)(function(){z(G+"/users","Unauthorized").then(function(e){I(e)})},[M]),a.a.createElement(ee,null,o&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Sign Up"),a.a.createElement(W,{placeholder:"Username",type:"text",value:l,setValue:s}),a.a.createElement(W,{placeholder:"E-mail",type:"text",value:d,setValue:f}),a.a.createElement(W,{placeholder:"Password",type:"password",value:p,setValue:b}),a.a.createElement(W,{placeholder:"First name",type:"text",value:h,setValue:E}),a.a.createElement(W,{placeholder:"Last name",type:"text",value:w,setValue:k}),a.a.createElement(W,{placeholder:"Location",type:"text",value:O,setValue:j}),a.a.createElement(W,{placeholder:"Image url",type:"text",value:C,setValue:T}),a.a.createElement(Q,{image:C||K,isVisible:!0,margin:"0 auto 2rem",size:10}),a.a.createElement(ne,{onClick:function(){F(M+1),te({username:l,email:d,password:p,firstname:h,lastname:w,location:O,image:C},D,t),sessionStorage.clear(),n(!1)}},"Sign Up"),M>0&&a.a.createElement("p",{style:{color:"red"}},"Invalid sign up (",M,")")))};t(34);function ae(){var e=c()(["\n  color: orange;\n\n  :hover {\n    color: white;\n    cursor: pointer;\n  }\n"]);return ae=function(){return e},e}function ie(){var e=c()(["\n  background-color: ",";\n  color: ",";\n  padding: 0.5rem 3rem;\n  margin: 1rem;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return ie=function(){return e},e}function oe(){var e=c()(["\n  margin-top: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 20rem;\n  text-align: center;\n"]);return oe=function(){return e},e}var ue=s.b.div(oe()),ce=s.b.button(ie(),b,p,E),le=s.b.span(ae()),se=function(e,n,t,r,a){sessionStorage.clear();var i=r&&r.find(function(t){return t.username===e&&t.password===n});i&&X(G+"/users/"+i._id,Object.assign({},i,{updatedAt:new Date}),i.username).then(function(e){a(!0),t(e),sessionStorage.setItem("username",e.username),sessionStorage.setItem("password",e.password)})},me=function(e){var n=e.setCurrentUser,t=e.setSignup,i=e.signUpSuccessful,o=e.setLoginSuccessful,u=Object(r.useState)(!1),c=u[0],l=u[1],s=Object(r.useState)(""),m=s[0],d=s[1],f=Object(r.useState)(""),g=f[0],p=f[1],b=Object(r.useState)(""),v=b[0],h=b[1],E=Object(r.useState)(0),y=E[0],w=E[1];return Object(r.useEffect)(function(){setTimeout(function(){return l(!0)},200)},[]),Object(r.useEffect)(function(){z(G+"/users").then(function(e){e.error||h(e)})},[y]),a.a.createElement(ue,null,c&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Login"),a.a.createElement(W,{placeholder:"Username",type:"text",value:m,setValue:d}),a.a.createElement(W,{placeholder:"Password",type:"password",value:g,setValue:p}),a.a.createElement(ce,{onClick:function(){se(m,g,n,v,o),setTimeout(function(){return w(y+1)},200)}},"Login"),y>0&&a.a.createElement("p",{style:{color:"red"}},"Invalid login (",y,")"),!i&&a.a.createElement("p",null,"Sign up ",a.a.createElement(le,{onClick:function(){return t(!0)}},"here")),a.a.createElement("br",null),i&&a.a.createElement("p",null,"Sign up successful! You can now log in with your new username and password.")))};function de(){var e=c()(["\n  padding: 5rem;\n  text-align: center;\n"]);return de=function(){return e},e}var fe=s.b.div(de()),ge=function(e){var n=e.currentUser;return a.a.createElement(fe,null,a.a.createElement(Q,{image:n.image||K,isVisible:!0,margin:"0 0.5rem 0 0",size:10}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("h2",null,"Welcome ",n.username),a.a.createElement("p",null,"In the tabs above you can see other registered Users, ",a.a.createElement("br",null),"use the Chat, track your Habits and enter new memories into ReMemory."))};function pe(){var e=c()(["\n  display: flex;\n  flex-direction: column;\n"]);return pe=function(){return e},e}function be(){var e=c()(["\n  background-color: inherit;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid ",";\n  color: ",";\n  margin: 0 0 1rem 0;\n  padding: 0.5rem 0.5rem;\n"]);return be=function(){return e},e}function ve(){var e=c()(["\n  color: ",";\n"]);return ve=function(){return e},e}function he(){var e=c()(["\n  color: ",";\n  margin-left: 0.5rem;\n  padding: 0.4rem 0.5rem 0.3rem;\n  cursor: pointer;\n  :hover {\n    color: ",";\n  }\n"]);return he=function(){return e},e}function Ee(){var e=c()(["\n  height: 5rem;\n  display: flex;\n  align-items: center;\n"]);return Ee=function(){return e},e}function ye(){var e=c()(["\n  margin: 0.2rem 0;\n"]);return ye=function(){return e},e}function we(){var e=c()(["\n  margin: 0;\n"]);return we=function(){return e},e}function ke(){var e=c()(["\n  background-color: ",";\n  padding: ",";\n  margin: 0.5rem auto;\n  width: 100%;\n  max-width: 500px;\n  cursor: pointer;\n  :hover {\n    color: ",";\n  }\n"]);return ke=function(){return e},e}var Se=function(e){var n=e.user,t=e.isCurrentUser,i=e.updateUsers,o=e.setUpdateUsers,u=Object(r.useState)(!1),c=u[0],l=u[1],s=Object(r.useState)(!1),m=s[0],d=s[1],f=Object(r.useState)(n.username),g=f[0],p=f[1],b=Object(r.useState)(n.firstname),v=b[0],h=b[1],E=Object(r.useState)(n.lastname),y=E[0],w=E[1],k=Object(r.useState)(n.location),S=k[0],O=k[1],j=Object(r.useState)(n.image),x=j[0],C=j[1];return a.a.createElement(Oe,{isCurrentUser:t,expandedView:c,onClick:function(){return!m&&l(!c)}},a.a.createElement(Ce,null,a.a.createElement(Q,{image:n.image||K,isVisible:!0,margin:"0 0.5rem 0 0",size:c?5:3}),a.a.createElement(je,null,g),!m&&t&&a.a.createElement(Te,{id:"EditButton",onClick:function(e){e.preventDefault(),e.stopPropagation(),l(!0),d(!0)}},"✎"),m&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Te,{onClick:function(){d(!1),p(n.username),h(n.firstname),w(n.lastname),O(n.location),C(n.image)}},"Back ←"),a.a.createElement(Te,{onClick:function(e){e.preventDefault(),e.stopPropagation(),d(!1),X(G+"/users/"+n._id,Object.assign({},n,{username:g,firstname:v,lastname:y,location:S,image:x}),n.username).then(function(e){sessionStorage.setItem("username",g),o(!i)})}},"Save ✓"))),c&&a.a.createElement(a.a.Fragment,null,!m&&a.a.createElement(a.a.Fragment,null,a.a.createElement(xe,null,a.a.createElement(Ue,null,"Full name:")," ",v," ",y),a.a.createElement(xe,null,a.a.createElement(Ue,null,"Location:")," ",S),a.a.createElement(xe,null,a.a.createElement(Ue,null,"Signed up:")," ",new Date(n.createdAt).toLocaleString()),a.a.createElement(xe,null,a.a.createElement(Ue,null,"Latest log in:")," ",new Date(n.updatedAt).toLocaleString())),m&&a.a.createElement(Ie,null,a.a.createElement(Ue,null,"Username"),a.a.createElement(De,{value:g,onChange:function(e){p(e.target.value)}}),a.a.createElement(Ue,null,"First name"),a.a.createElement(De,{value:v,onChange:function(e){h(e.target.value)}}),a.a.createElement(Ue,null,"Last name"),a.a.createElement(De,{value:y,onChange:function(e){w(e.target.value)}}),a.a.createElement(Ue,null,"Location"),a.a.createElement(De,{value:S,onChange:function(e){O(e.target.value)}}),a.a.createElement(Ue,null,"Image URL"),a.a.createElement(De,{value:x,onChange:function(e){C(e.target.value)}}),a.a.createElement(Q,{image:x||K,isVisible:!0,margin:"0 auto",size:10}))))},Oe=s.b.div(ke(),function(e){return e.isCurrentUser?y:h},function(e){return e.expandedView?"1rem 0.6rem":"0 0.5rem"},k),je=s.b.h2(we()),xe=s.b.p(ye()),Ce=s.b.div(Ee()),Te=s.b.span(he(),p,k),Ue=s.b.label(ve(),y),De=s.b.input(be(),p,p),Ie=s.b.div(pe());function Le(){var e=c()(["\n  margin: 0.5rem;\n  padding: 0;\n  width: 100%;\n"]);return Le=function(){return e},e}var Me=s.b.div(Le()),Fe=function(e){var n=e.currentUser,t=e.users,r=e.updateUsers,i=e.setUpdateUsers;return a.a.createElement(Me,null,a.a.createElement(Se,{isCurrentUser:!0,user:n,updateUsers:r,setUpdateUsers:i}),t&&Array.isArray(t)&&t.filter(function(e){return e.username!==n.username}).map(function(e){return a.a.createElement(Se,{key:e.username,isCurrentUser:n.username===e.username,user:e,updateUsers:r,setUpdateUsers:i})}))};function Ae(){var e=c()(["\n  width: 100%;\n  min-width: 50vw;\n  padding: 0.5rem;\n  background-color: ",";\n  color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  outline: none;\n  resize: none;\n"]);return Ae=function(){return e},e}var _e=function(e){var n=e.value,t=e.setValue,r=e.rows,i=e.setRows,o=e.placeholder,u=e.id;return a.a.createElement(Pe,{id:u,placeholder:o,rows:r,value:n,onChange:function(e){var n=e.target.rows;e.target.rows=1;var r=~~(e.target.scrollHeight/24);r===n&&(e.target.rows=r),r>=25&&(e.target.rows=25,e.target.scrollTop=e.target.scrollHeight),t(e.target.value),i(r<25?r:25)}})},Pe=s.b.textarea(Ae(),b,p,p);function Ve(e){var n=Object(r.useState)(!1),t=n[0],a=n[1];function i(n){n.key===e&&a(!0)}var o=function(n){n.key===e&&a(!1)};return Object(r.useEffect)(function(){return window.addEventListener("keydown",i),window.addEventListener("keyup",o),function(){window.removeEventListener("keydown",i),window.removeEventListener("keyup",o)}},[]),t}function Re(){var e=c()(["\n  padding: 0.6rem 0.6rem;\n  font-size: 1.5em;\n  border: none;\n  border-radius: 10rem;\n  background-color: ",";\n  color: ",";\n"]);return Re=function(){return e},e}function ze(){var e=c()(["\n  background-color: ",";\n  padding: 1rem;\n  display: flex;\n  justify-content: space-evenly;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]);return ze=function(){return e},e}var Ye=function(e,n){setTimeout(function(){e(""),n(1),window.scrollTo(0,document.body.scrollHeight)},100)},Xe=function(e){var n=e.userId,t=e.setDbUpdate,i=e.dbUpdate,o=e.currentUser,u=Object(r.useState)(""),c=u[0],l=u[1],s=Object(r.useState)(1),m=s[0],d=s[1],f=Object(r.useState)(!1),g=f[0],p=f[1],b=Ve("Enter");return Object(r.useEffect)(function(){setTimeout(function(){return Ye(l,d)},200)},[]),b&&!g&&c&&(p(!0),Y(G+"/messages",{text:c,user:n},o.username).then(function(e){t(!i),document.getElementById("ChatInput").focus(),setTimeout(function(){return Ye(l,d)},200),setTimeout(function(){return p(!1)},1e3)})),a.a.createElement(a.a.Fragment,null,a.a.createElement(Be,null,a.a.createElement(_e,{id:"ChatInput",placeholder:"Message...",value:c,setValue:l,rows:m,setRows:d}),a.a.createElement(He,{onClick:function(){c&&!g&&(p(!0),Y(G+"/messages",{text:c,user:n},o.username).then(function(e){t(!i),document.getElementById("ChatInput").focus(),setTimeout(function(){return Ye(l,d)},200)}))}},"➣")))},Be=s.b.div(ze(),b),He=s.b.button(Re(),p,h);function We(){var e=c()(["\n  background-color: inherit;\n  outline: none;\n  color: ",";\n  margin: 1rem;\n  padding: 1.5rem 0.5rem;\n"]);return We=function(){return e},e}function qe(){var e=c()(["\n  color: ",";\n  border-radius: 1rem;\n  margin-left: 0.5rem;\n  padding: 0 0.3rem;\n  :hover {\n    color: ",";\n  }\n"]);return qe=function(){return e},e}function Ne(){var e=c()(["\n  margin: 0.1rem 0.8rem;\n  padding: 0;\n  color: ",";\n"]);return Ne=function(){return e},e}function Qe(){var e=c()(["\n  margin: 0 1rem;\n  padding: 0;\n  color: ",";\n"]);return Qe=function(){return e},e}function Je(){var e=c()(["\n  background-color: ",";\n  margin: 0 0.2rem;\n  padding: 0.5rem 0.7rem;\n  display: flex;\n  justify-content: ",";\n  align-items: flex-start;\n  border-radius: 1rem;\n  word-break: break-word;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return Je=function(){return e},e}function Ge(){var e=c()(["\n  color: ",";\n  margin: 0;\n  padding: "," 0.5rem 0 0.5rem;\n  border-radius: 0.3rem;\n  display: flex;\n  flex-direction: ",";\n  max-width: 100%;\n"]);return Ge=function(){return e},e}var Ke=function(e){var n=e.message,t=e.isFirstMessage,i=e.users,o=e.setDbUpdate,u=e.dbUpdate,c=e.isCurrentUser,l=e.currentUser,s=Object(r.useRef)(null),m=Object(r.useState)(!1),d=m[0],f=m[1],g=Object(r.useState)(!1),p=g[0],b=g[1],v=Object(r.useState)(n.text),h=v[0],E=v[1],y=i&&i.find(function(e){return e._id===n.user});Object(r.useEffect)(function(){return document.addEventListener("mousedown",w,!1),function(){return document.removeEventListener("mousedown",w,!1)}},[]);var w=function(e){s.current&&!s.current.contains(e.target)&&"EditButton"!==e.target.id&&b(!1)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ze,{isCurrentUser:c,isFirstMessage:t,ref:s},a.a.createElement(Q,{image:y&&y.image||K,isVisible:t,margin:(!c&&t?"1.6rem":c&&t?"-0.11rem":0)+" 0.5rem 0 0.3rem",size:2.5}),a.a.createElement("div",null,!c&&t&&a.a.createElement(nn,null,y&&y.username),a.a.createElement($e,{empty:!n.text||!n.text.trim(),isCurrentUser:c,onClick:function(){return!p&&f(!d)}},!p&&h,p&&a.a.createElement(rn,{value:h,onChange:function(e){E(e.target.value)}}),c&&d&&a.a.createElement(a.a.Fragment,null,!p&&a.a.createElement(tn,{id:"EditButton",onClick:function(e){e.preventDefault(),e.stopPropagation(),b(!0)}},"✎"),p&&a.a.createElement(tn,{onClick:function(e){e.preventDefault(),e.stopPropagation(),b(!1),X(G+"/messages/"+n._id,{text:h},l.username).then(function(e){o(!u)})}},"✓"),a.a.createElement(tn,{onClick:function(e){e.preventDefault(),B(G+"/messages/"+n._id,l.username).then(function(e){o(!u)})}},"✕"))),d&&a.a.createElement(en,null,n.createdAt&&new Date(n.updatedAt?n.updatedAt:n.createdAt).toLocaleString()))))},Ze=s.b.div(Ge(),p,function(e){return e.isFirstMessage?"1rem":"0.3rem"},function(e){return e.isCurrentUser?"row-reverse":"row"}),$e=s.b.p(Je(),function(e){return e.isCurrentUser?v:y},function(e){return e.empty?"flex-end":"space-between"},y),en=s.b.p(Qe(),y),nn=s.b.p(Ne(),y),tn=s.b.span(qe(),p,p),rn=s.b.textarea(We(),p);function an(){var e=c()(["\n  min-height: 50vh;\n"]);return an=function(){return e},e}function on(){var e=c()(["\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  padding: 0.5rem 0.8rem 4rem;\n"]);return on=function(){return e},e}var un=s.b.div(on()),cn=s.b.div(an()),ln=function(e){var n=e.users,t=e.currentUser,i=Object(r.useState)(void 0),o=i[0],u=i[1],c=Object(r.useState)(!1),l=c[0],s=c[1];return Object(r.useEffect)(function(){z(G+"/messages",t.username).then(function(e){u(e)})},[l]),a.a.createElement(un,null,a.a.createElement(cn,null,o&&Array.isArray(o)&&o.map(function(e,r){return a.a.createElement(Ke,{key:e._id,message:e,isFirstMessage:0===r||o[r-1].user!==e.user,users:n,setDbUpdate:s,dbUpdate:l,isCurrentUser:t._id===e.user,currentUser:t})}),a.a.createElement(Xe,{userId:t._id,messages:o,setMessages:u,setDbUpdate:s,dbUpdate:l,currentUser:t})))},sn=(t(159),t(209),t(149),t(7)),mn=t.n(sn);function dn(){var e=c()(["\n          z-index: 40;\n        "]);return dn=function(){return e},e}function fn(){var e=c()(["\n          position: relative;\n          z-index: 2500;\n          color: orange;\n          opacity: 0.8;\n          cursor: grabbing;\n        "]);return fn=function(){return e},e}function gn(){var e=c()(["\n  padding: 0 !important;\n  margin: 0;\n  touch-action: none;\n  cursor: grab;\n  transition: color 0.3s ease-out;\n  transition: opacity 0.3s ease-out;\n\n  ",";\n"]);return gn=function(){return e},e}var pn=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).state={isDragging:!1,originalX:0,originalY:0,translateX:0,translateY:0,lastTranslateX:0,lastTranslateY:0},n.handleTouchStart=function(e,t){e.touches[0]&&(e.stopPropagation(),e.preventDefault(),window.addEventListener("touchmove",function(e){return n.handleTouchMove(e,t)}),window.addEventListener("touchend",n.handleTouchEnd),n.props.onDragStart&&n.props.onDragStart({x:e.touches[0].clientX,y:e.touches[0].clientY}),n.setState({originalX:e.touches[0].clientX,originalY:e.touches[0].clientY,isDragging:!0}))},n.moveAlongAxis=function(e,t){var r=n.props.onDrag;n.setState(function(n){var r;return(r={})["translate"+t]=e.touches[0]["client"+t]-n["original"+t]+n["lastTranslate"+t],r},function(){var e;r&&r(((e={})[t.toLowerCase()]=n.state["translate"+t],e["lastTranslate"+t]=n.state["lastTranslate"+t],e["original"+t]=n.state["original"+t],e))})},n.handleTouchMove=function(e,t){if(e.touches[0]&&(e.stopPropagation(),e.preventDefault(),n.state.isDragging))switch(t){case"X":n.moveAlongAxis(e,"X");break;case"Y":n.moveAlongAxis(e,"Y");break;default:return n.moveAlongAxis(e,"X"),void n.moveAlongAxis(e,"Y")}},n.handleTouchEnd=function(e){e.stopPropagation(),window.removeEventListener("touchmove",n.handleTouchMove),window.removeEventListener("touchend",n.handleTouchEnd),n.setState({originalX:0,originalY:0,translateX:0,translateY:0,lastTranslateX:0,lastTranslateY:0,isDragging:!1},function(){n.props.onDragEnd&&n.props.onDragEnd({x:n.state.lastTranslateX,y:n.state.lastTranslateY})})},n.handleMouseDown=function(e){var t=e.clientX,r=e.clientY;window.addEventListener("mousemove",n.handleMouseMove),window.addEventListener("mouseup",n.handleMouseUp),n.props.onDragStart&&n.props.onDragStart(),n.setState({originalX:t,originalY:r,isDragging:!0})},n.handleMouseMove=function(e){var t=e.clientX,r=e.clientY,a=n.state.isDragging,i=n.props.onDrag;a&&n.setState(function(e){return{translateX:t-e.originalX+e.lastTranslateX,translateY:r-e.originalY+e.lastTranslateY}},function(){i&&i({translateX:n.state.translateX,translateY:n.state.translateY})})},n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove),window.removeEventListener("mouseup",n.handleMouseUp),n.setState({originalX:0,originalY:0,lastTranslateX:n.state.translateX,lastTranslateY:n.state.translateY,isDragging:!1},function(){n.props.onDragEnd&&n.props.onDragEnd()})},n}mn()(n,e);var t=n.prototype;return t.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)},t.render=function(){var e=this,n=this.props,t=n.children,r=n.draggableStyle,i=this.state,o=i.translateX,u=i.translateY,c=i.isDragging;return a.a.createElement(bn,{onMouseDown:this.handleMouseDown,onTouchStart:function(n){e.handleTouchStart(n,"Y")},x:o,y:u,isDragging:c,style:r},t)},n}(a.a.Component),bn=s.b.div.attrs({style:function(e){return{transform:"translate("+e.x+"px, "+e.y+"px)"}}})(gn(),function(e){return e.isDragging?Object(s.a)(fn()):Object(s.a)(dn())}),vn=(t(210),t(35),t(36),function(e,n){var t="000000000"+e;return t.substr(t.length-n)}),hn=function(e,n){if(!e)return"--/--/----";var t=new Date(e),r=t.toLocaleDateString(),a=t.getHours(),i=t.getMinutes();return r+(n?"":" - "+vn(a,2)+":"+vn(i,2))},En=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})};function yn(){var e=c()(["\n  width: 100%;\n"]);return yn=function(){return e},e}function wn(){var e=c()(["\n  background-color: inherit;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid ",";\n  color: ",";\n"]);return wn=function(){return e},e}function kn(){var e=c()(["\n  background-color: inherit;\n  padding: 0;\n  margin: 0;\n  margin-left: 0.5rem;\n"]);return kn=function(){return e},e}function Sn(){var e=c()(["\n  background-color: #a40000;\n"]);return Sn=function(){return e},e}function On(){var e=c()(["\n  margin-top: 0.5rem;\n  border-top: 1px solid #3b3b3b;\n"]);return On=function(){return e},e}function jn(){var e=c()(["\n  :hover {\n    color: ",";\n  }\n"]);return jn=function(){return e},e}function xn(){var e=c()(["\n  color: ",";\n"]);return xn=function(){return e},e}function Cn(){var e=c()(["\n  font-size: small;\n  margin: 0;\n  padding: 0;\n"]);return Cn=function(){return e},e}function Tn(){var e=c()(["\n  list-style: none;\n  padding-left: 0;\n  margin: 0;\n"]);return Tn=function(){return e},e}function Un(){var e=c()(["\n  display: flex;\n  justify-content: space-between;\n"]);return Un=function(){return e},e}function Dn(){var e=c()(["\n  height: 49%;\n"]);return Dn=function(){return e},e}function In(){var e=c()(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: space-between;\n  min-height: 8rem;\n"]);return In=function(){return e},e}function Ln(){var e=c()(["\n  border: 1px solid ",";\n  padding: 0.5rem;\n  background: inherit;\n  color: ",";\n  width: 100%;\n"]);return Ln=function(){return e},e}function Mn(){var e=c()(["\n  display: flex;\n  margin: 0.5rem 0;\n  min-height: 8rem;\n"]);return Mn=function(){return e},e}function Fn(){var e=c()(["\n  margin: 0.5rem 0;\n"]);return Fn=function(){return e},e}function An(){var e=c()(["\n  margin-left: 0.5rem;\n  padding: 0.2rem 0.8rem 0;\n  border-radius: 0.2rem;\n  opacity: 0.8;\n\n  :hover {\n    cursor: pointer;\n    opacity: 1;\n  }\n"]);return An=function(){return e},e}function _n(){var e=c()(["\n  color: ",";\n  font-size: small;\n"]);return _n=function(){return e},e}function Pn(){var e=c()(["\n  color: ",";\n  margin-right: 0.5rem;\n  line-height: 1rem;\n"]);return Pn=function(){return e},e}function Vn(){var e=c()(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return Vn=function(){return e},e}function Rn(){var e=c()(["\n  border: 1px solid ",";\n  border-radius: 5rem;\n  padding: 0.2rem 0.6rem;\n  margin-right: 0.5rem;\n  margin-top: -0.3rem;\n"]);return Rn=function(){return e},e}function zn(){var e=c()(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0;\n  margin: 0;\n"]);return zn=function(){return e},e}function Yn(){var e=c()(["\n  display: flex;\n  align-items: center;\n"]);return Yn=function(){return e},e}function Xn(){var e=c()(["\n  cursor: pointer;\n  width: 100%;\n  min-width: 16rem;\n"]);return Xn=function(){return e},e}function Bn(){var e=c()(["\n  display: flex;\n  padding: 0.6rem;\n"]);return Bn=function(){return e},e}function Hn(){var e=c()(["\n  background-color: ",";\n  border: none;\n  color: ",";\n"]);return Hn=function(){return e},e}var Wn=function(e){var n=e.habit,t=e.addOccasion,i=e.deleteHabit,o=e.currentUser,u=n.name,c=n.title,l=n.description,s=n.rank,m=n.occasions,d=Object(r.useState)(m),f=d[0],g=d[1],p=Object(r.useState)(!1),b=p[0],v=p[1],h=Object(r.useState)(!1),E=h[0],y=h[1],w=Object(r.useState)(!1),k=w[0],S=w[1],O=Object(r.useState)(l),j=O[0],x=O[1],C=Object(r.useState)(l),T=C[0],U=C[1],D=Object(r.useState)(!1),I=D[0],L=D[1],M=Object(r.useState)(""),F=M[0],A=M[1],_=function(e,t){f&&g(f.map(function(n){return n._id===e?Object.assign({},n,{note:t}):n})),X(G+"/habits/"+n._id,Object.assign({},n,{occasions:f?f.map(function(n){return n._id===e?Object.assign({},n,{note:t}):n}):[]}),o.username)},P=function(e){f&&g(f.filter(function(n){return n._id!==e})),X(G+"/habits/"+n._id,Object.assign({},n,{occasions:f?f.filter(function(n){return n._id!==e}):[]}),o.username)};return a.a.createElement(Nn,{id:u},a.a.createElement(Qn,null,a.a.createElement(ut,{onClick:function(){return v(!b)}},a.a.createElement(Jn,null,a.a.createElement(Kn,null,s),a.a.createElement(Zn,null,a.a.createElement($n,null,c),a.a.createElement(et,null,0!==f.length&&hn(f[0].time,!0)))),a.a.createElement(Gn,null,a.a.createElement("div",null,!I&&a.a.createElement(nt,{onClick:function(e){e.stopPropagation(),L(!0)}},"+"),I&&a.a.createElement(a.a.Fragment,null,a.a.createElement(nt,{onClick:function(e){e.stopPropagation(),t(u,F),L(!1)}},"✓"),a.a.createElement(nt,{onClick:function(e){e.stopPropagation(),L(!1)}},"✕")),b&&a.a.createElement(ft,{onClick:function(e){e.preventDefault(),B(G+"/habits/"+n._id,o.username).then(function(e){i(n._id)})}},"✕")))),I&&a.a.createElement(ut,null,a.a.createElement(dt,{style:{width:"100%"}},a.a.createElement(bt,{onChange:function(e){return A(e.target.value)}}))),b&&a.a.createElement(dt,null,!k&&a.a.createElement(tt,{onClick:function(){return S(!0)}},T),k&&a.a.createElement(rt,null,a.a.createElement(at,{value:j,onChange:function(e){return x(e.target.value)}}),a.a.createElement(it,null,a.a.createElement(ot,{onClick:function(){""===j&&x("Enter description here..."),U(""===j?"Enter description here...":j),X(G+"/habits/"+n._id,Object.assign({},n,{description:j}),o.username),S(!1)}},"Save"),a.a.createElement(ot,{onClick:function(){S(!1),x(T)}},"Cancel"))),0!==f.length&&a.a.createElement(ct,null,E?a.a.createElement(a.a.Fragment,null,f.map(function(e,n){return n<10&&a.a.createElement(vt,{occasion:e,index:n,onUpdateOccasion:_,onDeleteOccasion:P})}),a.a.createElement(lt,{onClick:function(e){e.stopPropagation(),y(!1)}},a.a.createElement(mt,null,"Hide history"))):a.a.createElement(lt,{onClick:function(e){e.stopPropagation(),y(!0)}},a.a.createElement(mt,null,"Show history"))))))},qn=s.b.button(Hn(),y,p),Nn=s.b.div(Bn()),Qn=s.b.div(Xn()),Jn=s.b.div(Yn()),Gn=s.b.div(zn()),Kn=s.b.span(Rn(),p),Zn=s.b.div(Vn()),$n=s.b.label(Pn(),p),et=s.b.label(_n(),k),nt=Object(s.b)(qn)(An()),tt=s.b.p(Fn()),rt=s.b.div(Mn()),at=s.b.textarea(Ln(),y,w),it=s.b.div(In()),ot=Object(s.b)(qn)(Dn()),ut=s.b.div(Un()),ct=s.b.ul(Tn()),lt=s.b.li(Cn()),st=s.b.span(xn(),k),mt=s.b.span(jn(),k),dt=s.b.div(On()),ft=Object(s.b)(nt)(Sn()),gt=Object(s.b)(nt)(kn()),pt=s.b.input(wn(),k,k),bt=Object(s.b)(pt)(yn()),vt=function(e){var n=e.occasion,t=e.index,i=e.onUpdateOccasion,o=e.onDeleteOccasion,u=Object(r.useState)(!1),c=u[0],l=u[1],s=Object(r.useState)(n.note),m=s[0],d=s[1];return a.a.createElement(lt,{key:n.time+"-"+t,onClick:function(e){e.stopPropagation(),l(!c),c&&i(n._id,m)}},a.a.createElement(st,null,hn(n.time),n.note&&":")," ",!c&&n.note,c&&a.a.createElement(a.a.Fragment,null,a.a.createElement(pt,{value:m,onClick:function(e){return e.stopPropagation()},onChange:function(e){return d(e.target.value)}}),a.a.createElement(gt,{onClick:function(e){e.stopPropagation(),o(n._id)}},"✕")))},ht=function(e){var n=e.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:n.top+r,left:n.left+t}},Et=function(e,n){return e.rank<n.rank?-1:e.rank>n.rank?1:0},yt=function(e){var n=e.listData,t=e.onListUpdate,i=e.currentUser,o=e.setListOrder,u=Object(r.useState)(n||["hello"]),c=u[0],l=u[1],s=Object(r.useState)({}),m=s[0],d=s[1],f=Object(r.useState)({})[1],g=Object(r.useState)(0),p=g[0],b=g[1],h=Object(r.useState)(void 0),E=h[0],y=h[1];Object(r.useEffect)(function(){l(n)},[n]);var w=function(e,n){t(c.map(function(t){return t.name===e?Object.assign({},t,{occasions:(r={_id:En(),time:new Date,note:n},a=t.occasions,i=a.slice(),i.unshift(r),i)}):t;var r,a,i}))},k=function(e){t(c.filter(function(n){return n._id!==e}).map(function(e,n){return Object.assign({},e,{rank:n+1})}))},S=function(e){var n=c.findIndex(function(n){return n.name===e.name}),t=c.map(function(e,t){return function(e,n,t,r){var a=ht(document.getElementById(n.name)).top;return t>r?a<p?(y(Object.assign({},e[r],{rank:n.rank})),Object.assign({},n,{rank:n.rank-1})):n:t<r?a>p?((t-1<0||p>ht(document.getElementById(e[t-1].name)).top)&&y(Object.assign({},e[r],{rank:n.rank,topValue:!0})),Object.assign({},n,{rank:n.rank+1})):n:(console.log("Moved: ",n.name),n)}(c,e,t,n)});l(t),o(t)};Object(r.useEffect)(function(){if(E){var e=c.map(function(e){return e.name===E.name?E:e});l(e),o(e)}},[E]);var O=c.sort(Et);return a.a.createElement(a.a.Fragment,null,O&&O.map(function(e){return a.a.createElement(pn,{key:e.name,onDragStart:function(n){return function(e,n){e&&f(Object.assign({name:n},e))}(n,e.name)},onDrag:function(n){return function(e,n){document.getElementById(n)&&b(ht(document.getElementById(n)).top),d(Object.assign({name:n},e))}(n,e.name)},onDragOver:function(e){return e.preventDefault()},onDragEnd:function(){return S(m)},draggableStyle:{backgroundColor:v,margin:"1rem 0",padding:"1rem",width:"100%",zIndex:"20"}},a.a.createElement(Wn,{habit:e,addOccasion:w,deleteHabit:k,currentUser:i}))}))};function wt(){var e=c()(["\n  padding: 0.6rem 0.6rem;\n  font-size: 1.5em;\n  border: none;\n  border-radius: 10rem;\n  background-color: ",";\n  color: ",";\n"]);return wt=function(){return e},e}function kt(){var e=c()(["\n  margin-bottom: 5rem;\n"]);return kt=function(){return e},e}function St(){var e=c()(["\n  background-color: ",";\n  padding: 1rem;\n  display: flex;\n  justify-content: space-evenly;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]);return St=function(){return e},e}function Ot(){var e=c()(["\n  background-color: ",";\n  color: ",";\n  width: 50%;\n  padding: 0.8rem 0;\n  border: none;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n\n  :active {\n    background-color: ",";\n  }\n"]);return Ot=function(){return e},e}function jt(){var e=c()(["\n  width: 100%;\n"]);return jt=function(){return e},e}function xt(){var e=c()(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin: 0 0.5rem;\n  align-items: center;\n"]);return xt=function(){return e},e}yt.defaultProps={listData:[],onListUpdate:function(){}};var Ct=s.b.div(xt()),Tt=s.b.div(jt()),Ut=s.b.button(Ot(),function(e){return e.selected?y:h},p,y,function(e){return e.selected?y:h}),Dt=s.b.div(St(),b),It=Object(s.b)(Ut)(kt()),Lt=s.b.button(wt(),p,h),Mt=function(e){e.users;var n=e.currentUser,t=Object(r.useState)([]),i=t[0],o=t[1],u=Object(r.useState)(!1),c=u[0],l=u[1],s=Object(r.useState)(""),m=s[0],d=s[1],f=Object(r.useState)(1),g=f[0],p=f[1],b=Ve("Enter");Object(r.useEffect)(function(){n&&z(G+"/habits",n.username).then(function(e){o(e)})},[]);var v=function(e){e.forEach(function(e){X(G+"/habits/"+e._id,e,n.username)}),o(e)},h=function(e){Y(G+"/habits",e,n.username).then(function(e){z(G+"/habits",n.username).then(function(e){o(e)}),document.getElementById("HabitInput").focus(),setTimeout(function(){return Ye(d,p)},200),setTimeout(function(){return l(!1)},1e3)})},E=i.map(function(e){return e&&Object.assign({name:e.title&&e.title.toLowerCase()},e)});return b&&!c&&m&&(l(!0),h({title:m,description:"Enter description here...",startDate:new Date,endDate:new Date,occasions:[],rank:i.length+1})),a.a.createElement(Ct,null,a.a.createElement(Tt,null,E.length>0&&a.a.createElement(yt,{listData:E,onListUpdate:v,setListOrder:o,currentUser:n})),a.a.createElement(It,{onClick:function(){return v(i)}},"Save order"),a.a.createElement(Dt,null,a.a.createElement(_e,{id:"HabitInput",placeholder:"New habit...",value:m,setValue:d,rows:g,setRows:p}),a.a.createElement(Lt,{onClick:function(){l(!0),!c&&h({title:m,description:"Enter description here...",startDate:new Date,endDate:new Date,occasions:[],rank:i.length+1}),setTimeout(function(){return Ye(d,p)},200),setTimeout(function(){return l(!1)},1e3)}},"➣")))};t(75),t(76);function Ft(){var e=c()(["\n  padding: 0.5rem 0.2rem;\n  color: ",";\n"]);return Ft=function(){return e},e}function At(){var e=c()(["\n  margin-bottom: 0.5rem;\n"]);return At=function(){return e},e}function _t(){var e=c()(["\n  color: ",";\n  text-decoration: none;\n  margin-left: ",";\n  margin-right: ",";\n"]);return _t=function(){return e},e}function Pt(){var e=c()(["\n  background-color: ",";\n  color: ",";\n  width: 100%;\n  padding: 0.5rem 0.5rem;\n  margin: 0rem 0.05rem 0.6rem;\n  outline: none;\n  border: none;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return Pt=function(){return e},e}function Vt(){var e=c()(["\n  display: flex;\n  justify-content: stretch;\n"]);return Vt=function(){return e},e}function Rt(){var e=c()(["\n  color: ",";\n"]);return Rt=function(){return e},e}function zt(){var e=c()(["\n  color: ",";\n  display: flex;\n  margin-bottom: 0.8rem;\n\n  :hover {\n    cursor: pointer;\n  }\n"]);return zt=function(){return e},e}function Yt(){var e=c()(["\n  margin-top: 0.3rem;\n  margin-bottom: 3rem;\n  padding: 0 0.5rem;\n"]);return Yt=function(){return e},e}function Xt(){var e=c()(["\n  display: flex;\n"]);return Xt=function(){return e},e}function Bt(){var e=c()(["\n  list-style: none;\n  margin: "," 0;\n  padding: 0;\n"]);return Bt=function(){return e},e}function Ht(){var e=c()(["\n  border: 1px solid ",";\n  padding: 0.1rem 0.5rem;\n  margin-top: 0.2rem;\n  margin-right: 0.2rem;\n  margin-bottom: 0.2rem;\n  opacity: 0.9;\n\n  text-transform: lowercase;\n\n  :hover {\n    cursor: pointer;\n    border: 1px solid ",";\n    opacity: 1;\n  }\n"]);return Ht=function(){return e},e}function Wt(){var e=c()(["\n  padding: 0.2rem 0;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  div:nth-child(3) {\n    margin-top: -0.01rem;\n    border: 1px solid red;\n  }\n"]);return Wt=function(){return e},e}function qt(){var e=c()(["\n  padding: 0.3rem;\n  border: 1px solid ",";\n  background-color: inherit;\n  color: inherit;\n"]);return qt=function(){return e},e}function Nt(){var e=c()(["\n  width: 15%;\n  font-size: x-large;\n"]);return Nt=function(){return e},e}function Qt(){var e=c()(["\n  background-color: inherit;\n  border: none;\n  color: inherit;\n"]);return Qt=function(){return e},e}function Jt(){var e=c()(["\n  background-color: ",";\n  color: ",";\n  padding: 0.5rem;\n  border: 1px solid ",";\n  margin-left: ",";\n"]);return Jt=function(){return e},e}function Gt(){var e=c()(["\n  color: ",";\n"]);return Gt=function(){return e},e}var Kt=s.b.span(Gt(),k),Zt=s.b.button(Jt(),function(e){return e.selected?y:h},w,h,function(e){return e.marginLeft?"0.1rem":"inherit"}),$t=s.b.button(Qt()),er=Object(s.b)(Zt)(Nt()),nr=s.b.input(qt(),h),tr=s.b.div(Wt()),rr=s.b.span(Ht(),h,y),ar=s.b.li(Bt(),function(e){return e.showDetailedView?"1rem":0}),ir=s.b.div(Xt()),or=s.b.div(Yt()),ur=s.b.h2(zt(),y||"white"),cr=s.b.div(Rt(),y||"white"),lr=s.b.div(Vt()),sr=s.b.button(Pt(),function(e){return e.selected?y:h},p,y),mr=function(e,n,t){t(n),sessionStorage.setItem(e+"-tab",n)},dr=s.b.a(_t(),k,function(e){return e.marginLeft?"0.3rem":"inherit"},function(e){return e.marginRight?"0.3rem":"inherit"}),fr=s.b.p(At()),gr=s.b.p(Ft(),S);t(212);function pr(){var e=c()(["\n  padding: 0.3rem;\n  border: 1px solid ",";\n  background-color: ",";\n  z-index: 1;\n  opacity: 1;\n  color: inherit;\n  position: fixed;\n  width: 85%;\n  border-radius: 0;\n"]);return pr=function(){return e},e}var br=s.b.datalist(pr(),h,b),vr=function(e){var n=e.id,t=e.results,r=e.inputTag,i=e.setInputTag,o=e.addTag,u=e.setShowSuggestions,c=t.map(function(e,n){return a.a.createElement("option",{key:""+e._id+e.name,value:e.name,tabIndex:n},e.name)});return a.a.createElement(a.a.Fragment,null,t.length>0&&a.a.createElement(br,{id:n,size:t.length<10?t.length:10,value:r,onChange:function(e){i(e.target.value),u(!1),o()}},c))};function hr(){var e=c()(["\n  width: 85%;\n  margin-bottom: 0;\n"]);return hr=function(){return e},e}var Er=Object(s.b)(nr)(hr()),yr=function(e){var n=e.id,t=e.inputTags,i=e.setInputTags,o=e.memories,u=e.validate,c=Object(r.useState)(""),l=c[0],s=c[1],m=Object(r.useState)(!0),d=m[0],f=m[1],g=function(){if(!u||o.filter(function(e){return e.name.toLowerCase()===l.toLowerCase()}).length){var e=l&&l.replace(/"/g,"");!t.slice(0,t.length-1).find(function(n){return n===e.toLowerCase()})&&i([].concat(t,[e.trim().toLowerCase()])),s("")}};return Object(r.useEffect)(function(){l.includes('"')||l.endsWith(" ")&&g()},[l]),a.a.createElement(a.a.Fragment,null,a.a.createElement(ir,null,a.a.createElement(Er,{id:n,list:n+"suggestions",value:l,onChange:function(e){f(!0),s(e.target.value)},autoComplete:"off"}),a.a.createElement(er,{onClick:function(){g(),document.getElementById(n).focus()}},"+")),a.a.createElement(ir,null,l.length>0&&d&&a.a.createElement(vr,{id:n+"suggestions",addTag:g,inputTag:l,setInputTag:s,showSuggestions:d,setShowSuggestions:f,results:o.filter(function(e){return e.name.toLowerCase().includes(l.toLowerCase())})})),a.a.createElement(tr,null,t&&t.map(function(e){return a.a.createElement(rr,{key:e,onClick:function(e){i(t.filter(function(n){return n.toLowerCase()!==e.target.innerText.substring(0,e.target.innerText.length-2).toLowerCase()})),document.getElementById(n).focus()}},e," ×")})))};function wr(){var e=c()(["\n  background: maroon;\n  border: ",";\n  color: ",";\n"]);return wr=function(){return e},e}function kr(){var e=c()(["\n  width: 100%;\n  margin-top: 1rem;\n"]);return kr=function(){return e},e}function Sr(){var e=c()(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.5rem;\n"]);return Sr=function(){return e},e}function Or(){var e=c()(["\n  color: ",";\n  margin-bottom: 0.3rem;\n"]);return Or=function(){return e},e}function jr(){var e=c()(["\n  border: 1px solid ",";\n  padding: 0.5rem;\n  background-color: inherit;\n  color: inherit;\n  resize: none;\n  min-height: 8rem;\n"]);return jr=function(){return e},e}var xr=function(e,n){return{_id:En(),type:"Link",name:e,linkedId:n._id,linkedName:n.name}},Cr=s.b.textarea(jr(),h),Tr=s.b.label(Or(),k),Ur=s.b.div(Sr()),Dr=Object(s.b)(Zt)(kr()),Ir=Object(s.b)(Dr)(wr(),function(e){return e.confirmDelete?"1px solid white":"none"},p),Lr=function(e){var n=e.toggleRefresh,t=e.setToggleRefresh,i=e.updateMemory,o=e.setUpdateMemory,u=e.memories,c=e.currentUser,l=e.setShowMemoryInput,s=Object(r.useState)(!1),m=s[0],d=s[1],f=Object(r.useState)(i?i.name:""),g=f[0],p=f[1],b=Object(r.useState)(i?i.description:""),v=b[0],h=b[1],E=Object(r.useState)(i?i.tags:[]),y=E[0],w=E[1],k=Object(r.useState)(u&&i?i.children.map(function(e){return u.find(function(n){return n._id===e.linkedId}).name.toLowerCase()}):[]),S=k[0],O=k[1],j=Object(r.useState)(u&&i?i.parents.map(function(e){return u.find(function(n){return n._id===e.linkedId}).name.toLowerCase()}):[]),x=j[0],C=j[1];return Object(r.useEffect)(function(){document.getElementById("InputName").focus()},[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Ur,null,a.a.createElement(Tr,null,"Name"),a.a.createElement(nr,{id:"InputName",value:g,onChange:function(e){return p(e.target.value)}})),a.a.createElement(Ur,null,a.a.createElement(Tr,null,"Description"),a.a.createElement(Cr,{id:"InputDescription",value:v,onChange:function(e){return h(e.target.value)}})),a.a.createElement(Ur,null,a.a.createElement(Tr,null,"Tags"),a.a.createElement(yr,{id:"TagInput",inputTags:y,setInputTags:w,memories:u,validate:!1})),i&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ur,null,a.a.createElement(Tr,null,"Children"),a.a.createElement(yr,{id:"ChildrenInput",inputTags:S,setInputTags:O,memories:u,validate:!0})),a.a.createElement(Ur,null,a.a.createElement(Tr,null,"Parents"),a.a.createElement(yr,{id:"ParentInput",inputTags:x,setInputTags:C,memories:u,validate:!0}))),!i&&a.a.createElement(Dr,{onClick:function(){Y(G+"/memories",{type:"Memory",name:g,description:v,tags:y,children:S.map(function(e){return u.find(function(n){return e.toLowerCase()===n.name.toLowerCase()})&&xr("child",i)}),parents:x.map(function(e){return u.find(function(n){return e.toLowerCase()===n.name.toLowerCase()})&&xr("parent",i)})},c.username).then(function(e){console.log("Successfully created: ",e),l(!1),t(!n)})}},"Save memory"),i&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Dr,{onClick:function(){X(G+"/memories/"+i._id,{type:"Memory",name:g,description:v,tags:y,children:S.map(function(e){var n=u.find(function(n){return e.toLowerCase()===n.name.toLowerCase()});return n&&xr("child",n)}),parents:x.map(function(e){var n=u.find(function(n){return e.toLowerCase()===n.name.toLowerCase()});return n&&xr("parent",n)})},c.username).then(function(e){if(e.children!==i.children&&e.children.length<i.children.length){var r=i.children.filter(function(n){return!e.children.map(function(e){return e.linkedId}).includes(n.linkedId)});r&&r.forEach(function(r){u.forEach(function(a){a._id===r.linkedId&&a.parents.some(function(n){return n.linkedId===e._id})&&X(G+"/memories/"+a._id,Object.assign({},a,{parents:a.parents.filter(function(n){return n.linkedId!==e._id})}),c.username).then(function(e){o(void 0),t(!n)})})})}else e.children!==i.children&&e.children.length>i.children.length&&e.children.forEach(function(r){u.forEach(function(a){a._id!==r.linkedId||a.parents.some(function(n){return n.linkedId===e._id})||X(G+"/memories/"+a._id,Object.assign({},a,{parents:[].concat(a.parents,[xr("parent",i)])}),c.username).then(function(e){o(void 0),t(!n)})})});if(e.parents!==i.parents&&e.parents.length<i.parents.length){var a=i.parents.filter(function(n){return!e.parents.map(function(e){return e.linkedId}).includes(n.linkedId)});a&&a.forEach(function(r){u.forEach(function(a){a._id===r.linkedId&&a.children.some(function(n){return n.linkedId===e._id})&&X(G+"/memories/"+a._id,Object.assign({},a,{children:a.children.filter(function(n){return n.linkedId!==e._id})}),c.username).then(function(e){o(void 0),t(!n)})})})}else e.parents!==i.parents&&e.parents.length>i.parents.length&&e.parents.forEach(function(r){u.forEach(function(a){a._id!==r.linkedId||a.children.some(function(n){return n.linkedId===e._id})||X(G+"/memories/"+a._id,Object.assign({},a,{children:[].concat(a.children,[xr("child",i)])}),c.username).then(function(e){o(void 0),t(!n)})})});o(void 0),t(!n)})}},"Update memory"),!m&&a.a.createElement(Ir,{onClick:function(){d(!m)}},"Delete memory"),m&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ir,{confirmDelete:!0,onClick:function(){d(!m),B(G+"/memories/"+i._id,c.username).then(function(e){console.log("Successfully removed: ",e),o(void 0),t(!n)})}},"Confirm DELETE of ",i.name),a.a.createElement(Dr,{onClick:function(){return d(!1)}},"Cancel"))))};function Mr(){var e=c()(["\n  border: 1px solid ",";\n  color: ",";\n  background-color: ",";\n  width: 100vw;\n  position: fixed;\n  display: flex;\n  justify-content: space-between;\n  font-size: larger;\n  padding: 0.5rem 1rem 0rem;\n  bottom: 0;\n"]);return Mr=function(){return e},e}var Fr=s.b.div(Mr(),h,y,b),Ar=function(e){var n=e.toggleRefresh,t=e.setToggleRefresh;return a.a.createElement(Fr,{onClick:function(){document.getElementById("SearchField").focus(),t(!n)}},a.a.createElement("span",null,"⌃"),a.a.createElement("span",null,"⌃"))};t(213),t(77);function _r(){var e=c()(["\n  white-space: ",";\n"]);return _r=function(){return e},e}var Pr=function(e){var n=e.description,t=e.summary,r=(t&&n.length>79?n.substring(0,80)+"...":n).split(/\[(.+)\]\(([^ ]+?)( "(.+)")?\)/gm).filter(function(e){return e});return a.a.createElement(Vr,{summary:t},r.map(function(e,n){return e.startsWith("http")?a.a.createElement(dr,{href:e,rel:"noopener noreferer",target:"_blank"},r[n-1]):r[n+1]&&r[n+1].startsWith("http")?"":a.a.createElement("span",null,e)}))},Vr=s.b.p(_r(),function(e){return e.summary?"inherit":"pre-wrap"});function Rr(){var e=c()(["\n  margin-left: 0.5rem;\n"]);return Rr=function(){return e},e}function zr(){var e=c()(["\n  margin-right: 0.5rem;\n"]);return zr=function(){return e},e}function Yr(){var e=c()(["\n  opacity: 0.5;\n"]);return Yr=function(){return e},e}function Xr(){var e=c()([""]);return Xr=function(){return e},e}function Br(){var e=c()(["\n  opacity: 0.5;\n"]);return Br=function(){return e},e}function Hr(){var e=c()([""]);return Hr=function(){return e},e}var Wr=Object(s.b)(tr)(Hr()),qr=Object(s.b)(rr)(Br()),Nr=Object(s.b)(tr)(Xr()),Qr=Object(s.b)(rr)(Yr()),Jr=Object(s.b)(Kt)(zr()),Gr=Object(s.b)($t)(Rr()),Kr=function(e){var n=e.memories,t=e.memory,i=e.searchQueries,o=e.setSearchQueries,u=e.setFocus,c=e.setUpdateMemory,l=e.showDetailedViewFor,s=Object(r.useState)(!1),m=s[0],d=s[1],f=Object(r.useState)(l),g=f[0],p=f[1],b=t._id,v=t.name,h=t.description,E=t.tags,y=t.parents,w=t.children;Object(r.useEffect)(function(){p(l)},[l]);var k,S=w.map(function(e){return n.find(function(n){return n._id===e.linkedId})||[]}),O=y.map(function(e){return n.find(function(n){return n._id===e.linkedId})||[]});return k=[v,h].concat(E),i.every(function(e){return k.some(function(n){return n.toLowerCase().includes(e.toLowerCase())})})&&a.a.createElement(ar,{showDetailedView:g},a.a.createElement(Nr,null,a.a.createElement(Jr,{onClick:function(){d(!m),p(m?l:{tags:!0,parents:!0,children:!0,description:!0,descriptionSummary:!1})}},v,m&&a.a.createElement(Gr,{onClick:function(){return c({_id:b,name:v,description:h,tags:E,parents:y,children:w,count:0})}},"✎")),O&&0!==O.length&&g.parents&&O.map(function(e){return e.name&&a.a.createElement(Qr,{key:e.name,onClick:function(){u(),o([].concat(i,[e.name]))}},e.name)})),a.a.createElement(a.a.Fragment,null,g.tags&&a.a.createElement(tr,null,E.map(function(e){return a.a.createElement(rr,{key:e,onClick:function(){u(),o([].concat(i,[e]))}},e)})),g.description&&a.a.createElement(Pr,{description:h,summary:!1}),g.descriptionSummary&&a.a.createElement(Pr,{description:h,summary:!0}),S&&0!==S.length&&g.children&&a.a.createElement(Wr,null,S.map(function(e){return a.a.createElement(qr,{key:e.name,onClick:function(){u(),o([].concat(i,[e.name]))}},e.name)}))))};function Zr(){var e=c()(["\n  font-size: large;\n  margin-left: 0.1rem;\n  margin-bottom: 0.5rem;\n  max-height: 2.6rem;\n"]);return Zr=function(){return e},e}function $r(){var e=c()(["\n  width: 100%;\n"]);return $r=function(){return e},e}function ea(){var e=c()(["\n  margin: 0;\n"]);return ea=function(){return e},e}function na(){var e=c()(["\n  margin: 0 0 0.5rem;\n  display: flex;\n  width: 100%;\n"]);return na=function(){return e},e}var ta=s.b.div(na()),ra=s.b.ul(ea()),aa=s.b.div($r()),ia=Object(s.b)(er)(Zr()),oa=function(e){var n=e.searchQueries,t=e.setSearchQueries,r=e.setFocus,i=e.memories,o=e.setUpdateMemory,u=e.showDetailedViewFor,c=e.sortAscending,l=e.setSortAscending;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ta,null,a.a.createElement(aa,null,a.a.createElement(yr,{id:"SearchField",inputTags:n,setInputTags:t,memories:i,validate:!1})),a.a.createElement(ia,{onClick:function(){return l(!c)}},c?a.a.createElement(a.a.Fragment,null,"↓"):a.a.createElement(a.a.Fragment,null,"↑"))),a.a.createElement(ra,null,i&&i.map(function(e){return a.a.createElement(Kr,{key:e.name,memories:i,memory:e,searchQueries:n.filter(function(e){return e}),setSearchQueries:t,setFocus:r,setUpdateMemory:o,showDetailedViewFor:u})})))};t(82),t(55),t(168);function ua(){var e=c()(["\n  margin-right: 0.5rem;\n  color: ",";\n  font-size: x-large;\n"]);return ua=function(){return e},e}function ca(){var e=c()(["\n  background-color: ",";\n  border: ",";\n  margin-right: 0.2rem;\n  min-width: 2.5rem;\n  width: 100%;\n"]);return ca=function(){return e},e}function la(){var e=c()(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 95%;\n  margin-bottom: 0.5rem;\n"]);return la=function(){return e},e}var sa=s.b.div(la()),ma=Object(s.b)(Zt)(ca(),function(e){return e.selectedSetting?"none":"inherit"},function(e){return e.selectedSetting?"none":"inherit"}),da=s.b.span(ua(),k),fa=function(e){var n=e.showDetailedViewFor,t=e.setShowDetailedViewFor,r=e.sortType,i=e.setSortType,o=[{name:"name",title:"Name"},{name:"tags",title:"Tag"},{name:"description",title:"Desc."}],u={tags:"Tag",parents:"Parent",children:"Child",description:"Desc"};return a.a.createElement(a.a.Fragment,null,a.a.createElement(sa,null,a.a.createElement(da,null,"⋎")," ",Object.keys(n).map(function(e,r){return r!==Object.keys(n).length-1&&a.a.createElement(ma,{key:e,selectedSetting:n[e],onClick:function(){var r;t(Object.assign({},n,((r={})[e]=!n[e],r)))}},u[e])})),a.a.createElement(sa,null,a.a.createElement(da,null,"↕")," ",o&&o.map(function(e){return a.a.createElement(ma,{key:e,selectedSetting:e.name===r,onClick:function(){return i(e.name)}},e.title)})))};function ga(){var e=c()(["\n  margin-left: 0.3rem;\n"]);return ga=function(){return e},e}function pa(){var e=c()(["\n  display: flex;\n  align-items: center;\n  padding-top: 0.07rem;\n  margin-left: 0.6rem;\n  font-size: small;\n"]);return pa=function(){return e},e}function ba(){var e=c()(["\n  margin-left: 0.6rem;\n"]);return ba=function(){return e},e}function va(){var e=c()(["\n  color: ",";\n"]);return va=function(){return e},e}function ha(){var e=c()(["\n  margin-left: 0.6rem;\n  -webkit-transform: translate(0%) rotate(45deg);\n  -moz-transform: translate(0%) rotate(45deg);\n  -o-transform: translate(0%) rotate(45deg);\n  transform: translate(0%) rotate(45deg);\n  color: ",";\n"]);return ha=function(){return e},e}var Ea=s.b.div(ha(),w),ya=s.b.span(va(),w),wa=Object(s.b)(ya)(ba()),ka=Object(s.b)(ya)(pa()),Sa=Object(s.b)(ya)(ga()),Oa=function(e){var n=e.currentUser,t=Object(r.useState)(!1),i=t[0],o=t[1],u=Object(r.useState)(!0),c=u[0],l=u[1],s=Object(r.useState)(!1),m=s[0],d=s[1],f=Object(r.useState)({tags:!0,parents:!0,children:!0,description:!1,descriptionSummary:!0}),g=f[0],p=f[1],b=Object(r.useState)([]),v=b[0],h=b[1],E=Object(r.useState)([]),y=E[0],w=E[1],k=Object(r.useState)([]),S=k[0],O=k[1],j=Object(r.useState)(void 0),x=j[0],C=j[1],T=Object(r.useState)("name"),U=T[0],D=T[1],I=Object(r.useState)(!0),L=I[0],M=I[1];Object(r.useEffect)(function(){n&&z(G+"/memories",n.username).then(function(e){w(e),O(e.map(function(e){return{name:e.name,_id:e._id}}))})},[i]),Object(r.useEffect)(function(){x?l(!0):(l(!1),o(!i))},[x]);var F=y.sort(function(e,n){var t=e[U],r=n[U];return Array.isArray(e[U])&&0===e[U].length||Array.isArray(n[U])&&0===n[U].length?0:(t=Array.isArray(e[U])?e[U][0]:e[U],r=Array.isArray(n[U])?n[U][0]:n[U],t.toLowerCase()<r.toLowerCase()?L?-1:1:t.toLowerCase()>r.toLowerCase()?L?1:-1:0)});return a.a.createElement(a.a.Fragment,null,a.a.createElement(or,null,a.a.createElement(ur,{onClick:function(){C(void 0),l(!c)}},"ReMemory"," ",c?a.a.createElement(Ea,null,"⚲"):a.a.createElement(a.a.Fragment,null,a.a.createElement(wa,null,"+"),a.a.createElement(ka,{onClick:function(e){e.stopPropagation(),d(!m)}},"⚙"),m&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Sa,{onClick:function(){return e=y,n="memories-backup",t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),(r=document.createElement("a")).setAttribute("href",t),r.setAttribute("download",n+"-"+(new Date).toLocaleString().replace(", ","-")+".json"),document.body.appendChild(r),r.click(),void r.remove();var e,n,t,r}},"⊻")))),a.a.createElement(cr,null,c&&a.a.createElement(Lr,{toggleRefresh:i,setToggleRefresh:o,updateMemory:x,setUpdateMemory:C,memoryLinks:S,memories:y,currentUser:n,setShowMemoryInput:l}),!c&&a.a.createElement(a.a.Fragment,null,m&&a.a.createElement(fa,{showDetailedViewFor:g,setShowDetailedViewFor:p,sortType:U,setSortType:D}),a.a.createElement(oa,{searchQueries:v,setSearchQueries:h,setFocus:function(){return e="SearchField",document.getElementById(e).focus(),void document.getElementById(e).blur();var e},memories:F,setUpdateMemory:C,showDetailedViewFor:g,setSortAscending:M,sortAscending:L})))),!c&&a.a.createElement(Ar,{toggleRefresh:i,setToggleRefresh:o}))},ja=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(fr,null,"A group of talented individuals working towards the common goal of financial independence."),a.a.createElement("ul",null,a.a.createElement("li",null,"Meets on the first monday of the month* at 18:15 for dinner at Sebastians place."),a.a.createElement("li",null,"Half of the group have an engineering background and half have a background in finance."),a.a.createElement("li",null,"Our initial group of founders will contain no more than six individuals, the upper tier of an effective team."),a.a.createElement("li",null,"We discuss stock tips and investment opportunities."),a.a.createElement("li",null,"We also collaborate on what improvements can be done to this platform in order to support finding stock tips and investment opportunities."),a.a.createElement("li",null,"Each meeting we agree on the amount being brought in to the common SPM fund by the founders, this amount will always be the same for each individual."),a.a.createElement("li",null,"The SPM fund will give 20% of the monthly profits divided equally back to the SPM founders, the rest of the profits will be reinvested in new investment opportunities."),a.a.createElement("li",null,"The fund will serve as a basis for a common retirement fund, helping the founders and their extended families for years to come."),a.a.createElement("i",null,"*This can be moved to another date decided by the founders if a member has previous engagements and has specified this at least 2 weeks in advance.")))};t(215),t(219);function xa(){var e=c()(["\n  touch-action: manipulation;\n  width: 100%;\n  margin-right: 0.1rem;\n  padding: 0;\n"]);return xa=function(){return e},e}function Ca(){var e=c()(["\n  fill: ",";\n  :hover {\n    fill: ",";\n    cursor: pointer;\n  }\n  :focus {\n    fill: red;\n  }\n"]);return Ca=function(){return e},e}function Ta(){var e=c()(["\n  fill: ",";\n"]);return Ta=function(){return e},e}function Ua(){var e=c()(["\n  stroke: ",";\n  stroke-width: ",";\n"]);return Ua=function(){return e},e}function Da(){var e=c()(["\n  fill: 1px solid ",";\n"]);return Da=function(){return e},e}function Ia(){var e=c()(["\n  width: 100%;\n  margin: 0;\n  padding: 0.1rem;\n"]);return Ia=function(){return e},e}var La=function(e,n,t,r,a){return(e-n)/(t-n)*(a-r)+r},Ma=s.b.div(Ia()),Fa=s.b.svg(Da(),h),Aa=s.b.line(Ua(),function(e){return e.interactive?S:w},function(e){return e.interactive?.5:1}),_a=s.b.text(Ta(),function(e){return e.interactive?S:w}),Pa=s.b.circle(Ca(),function(e){return e.interactive?S:k},S),Va=Object(s.b)(Zt)(xa()),Ra=function(e){var n=e.id,t=e.positions,i=e.selectedPoint,o=e.setSelectedPoint,u=t.map(function(e){return e.value}),c=t.map(function(e){return e.time}),l=u.slice().sort(function(e,n){return n-e}),s=l[0],m=l[l.length-1],d=u.map(function(e,n){return r=n,a=t.length-1,La(r,0,a,52,360)+","+function(e,n,t){return 400-La(e,t,n,40,360)}(e,s,m);var r,a}),f=function(e){return e>0?e-1:0},g=function(e){return e<t.length-1?e+1:t.length-1},p=function(e){return e>5?e-5:0},b=function(e){return e<t.length-5?e+5:t.length-1},v=function(e){var n=e||window.event;38===n.keyCode?(e.stopPropagation(),e.preventDefault(),o(b(i))):40===n.keyCode?(e.stopPropagation(),e.preventDefault(),o(p(i))):37===n.keyCode?o(f(i)):39===n.keyCode&&o(g(i))};return Object(r.useEffect)(function(){document.onkeydown=v},[i]),a.a.createElement(Ma,null,a.a.createElement(ir,null,a.a.createElement(Va,{id:"twenty-down",onClick:function(){return o((e=i)>20?e-20:0);var e}},"<<<"),a.a.createElement(Va,{id:"five-down",onClick:function(){return o(p(i))}},"<<"),a.a.createElement(Va,{id:"one-down",onClick:function(){return o(f(i))}},"<"),a.a.createElement(Va,{id:"one-up",onClick:function(){return o(g(i))}},">"),a.a.createElement(Va,{id:"five-up",onClick:function(){return o(b(i))}},">>"),a.a.createElement(Va,{id:"twenty-up",onClick:function(){return o((e=i)<t.length-20?e+20:t.length-1);var e}},">>>")),a.a.createElement(Fa,{viewBox:"0 0 400 400"},a.a.createElement("title",{id:n+"-title"},"A line chart showing some information about ",n),a.a.createElement("polyline",{fill:"none",stroke:k,strokeWidth:1,points:d}),a.a.createElement("g",null,a.a.createElement(Aa,{x1:52,x2:360,y1:360,y2:360})),a.a.createElement("g",null,a.a.createElement(Aa,{x1:52,x2:52,y1:360,y2:40})),a.a.createElement("g",null,u.map(function(e,n){return i===n&&a.a.createElement(a.a.Fragment,{key:e},a.a.createElement(_a,{interactive:!0,x:d[n].split(",")[0]-16,y:20},e),a.a.createElement(Aa,{interactive:!0,x1:d[n].split(",")[0],x2:d[n].split(",")[0],y1:376,y2:24}))})),a.a.createElement("g",null,u.map(function(e,n){return(e===s||e===m)&&a.a.createElement(_a,{key:e,x:0,y:d[n].split(",")[1]},(t=Number(e),r=4,Number.parseFloat(t).toPrecision(r)));var t,r})),a.a.createElement("g",null,c.map(function(e,n){return i===n&&a.a.createElement(_a,{key:e,interactive:!0,x:d[n].split(",")[0]-40,y:392},e)})),a.a.createElement("g",{"data-setname":"Our first data set"},t.map(function(e,n){return a.a.createElement(Pa,{key:e.value+"-"+e.time,interactive:n===i,onClick:function(){return o(n)},cx:d[n].split(",")[0],cy:d[n].split(",")[1],"data-value":e.value,r:3})}))))};function za(){var e=c()(["\n  margin-bottom: 0rem;\n"]);return za=function(){return e},e}function Ya(){var e=c()(["\n  color: ",";\n"]);return Ya=function(){return e},e}function Xa(){var e=c()(["\n  padding: 1rem 1rem 0.5rem;\n  margin-bottom: 0.5rem;\n"]);return Xa=function(){return e},e}function Ba(){var e=c()(["\n  margin-top: 0.5rem;\n  padding: 0.4rem 0.3rem;\n  border: 1px solid ",";\n"]);return Ba=function(){return e},e}var Ha=function(e){var n=e.stock;if(!n)return a.a.createElement(a.a.Fragment,null);var t=n&&n.timeSeriesDaily?Object.keys(n.timeSeriesDaily).map(function(e){return{time:e,value:Math.floor(100*n.timeSeriesDaily[e]["2. high"])/100}}).reverse():[],i=Object(r.useState)(t?t.length-1:0),o=i[0],u=i[1];return a.a.createElement(Wa,null,a.a.createElement(Qa,null,n.name),0!==t.length&&a.a.createElement(Ra,{id:"stock-chart",positions:t,selectedPoint:o,setSelectedPoint:u}),n&&n.timeSeriesDaily&&a.a.createElement(Ja,{selected:n.timeSeriesDaily[Object.keys(n.timeSeriesDaily).filter(function(e,n){return n===o})]}),a.a.createElement("ul",null,Object.keys(n).map(function(e,t){return t>1&&!e.includes("timeSeries")&&a.a.createElement("li",{key:e},e,": ","object"!=typeof n[e]&&n[e])})))},Wa=s.b.div(Ba(),h),qa=Object(s.b)(Wa)(Xa()),Na=s.b.span(Ya(),k),Qa=s.b.h3(za()),Ja=function(e){var n=e.selected;return a.a.createElement(qa,null,Object.keys(n).map(function(e){return a.a.createElement(fr,{key:e},e.substring(2,e.length),": ",a.a.createElement(Na,null,n[e]))}))};function Ga(){var e=c()(["\n  width: 85%;\n  margin-bottom: 0;\n"]);return Ga=function(){return e},e}var Ka=function(e){var n=e.id,t=e.setSelectedStock,i=e.placeholder,o=e.setApiOverload,u=Object(r.useState)(""),c=u[0],l=u[1],s=Object(r.useState)(!0),m=s[0],d=s[1],f=Object(r.useState)([]),g=f[0],p=f[1],b=Object(r.useState)(!1),v=b[0],h=b[1],E=function(e,n){var t=Object(r.useState)(e),a=t[0],i=t[1];return Object(r.useEffect)(function(){var t=setTimeout(function(){i(e)},n);return function(){clearTimeout(t)}},[e]),a}(c,1e3),y=function(){if(g.filter(function(e){return e.name.toLowerCase()===c.toLowerCase()}).length){var e=c&&c.split("-")[0].trim(),n="https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol="+e+"&apikey=E7TLM3H8U47IWRJF";t(void 0),z(n).then(function(n){var r=g.find(function(n){return n._id===e});console.log("Symbol-response: ",n),n.note?o(n):t(Object.assign({},r,{timeSeriesDaily:n["Time Series (Daily)"]}))})}};return Object(r.useEffect)(function(){E&&!E.includes("-")?(h(!0),z("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords="+c+"&apikey=E7TLM3H8U47IWRJF").then(function(e){console.log("Keyword-response: ",e);var n=e.bestMatches?e.bestMatches.map(function(e){return{_id:e["1. symbol"],name:e["1. symbol"]+" - "+e["2. name"],type:e["3. type"],region:e["4. region"],marketOpen:e["5. marketOpen"],marketClose:e["6. marketClose"],timezone:e["7. timezone"],currency:e["8. currency"],matchScore:e["9. matchScore"]}}):[];h(!1),e.Note&&o(e),p(n)})):!E.includes("-")&&p([])},[E]),a.a.createElement(a.a.Fragment,null,a.a.createElement(ir,null,a.a.createElement(Za,{id:n,list:n+"suggestions",value:c,onChange:function(e){d(!0),l(e.target.value)},placeholder:i,autoComplete:"off"}),a.a.createElement(er,{onClick:function(){y(),document.getElementById(n).focus()}},"+")," "),a.a.createElement(ir,null,c.length>0&&m&&a.a.createElement(vr,{id:n+"suggestions",addTag:y,inputTag:c,setInputTag:l,showSuggestions:m,setShowSuggestions:d,results:g})),v&&a.a.createElement(fr,null,"Searching for stocks..."))},Za=Object(s.b)(nr)(Ga());function $a(){var e=c()(["\n  margin-bottom: 0.5rem;\n"]);return $a=function(){return e},e}var ei=function(){var e=Object(r.useState)(void 0),n=e[0],t=e[1],i=Object(r.useState)(void 0),o=i[0],u=i[1];return Object(r.useEffect)(function(){console.log("Overload: ",o)},[o]),a.a.createElement(a.a.Fragment,null,a.a.createElement(ni,null,"StockAPI"),a.a.createElement(Ka,{id:"stock-symbol",placeholder:"Input stock symbol...",selectedStock:n,setSelectedStock:t,setApiOverload:u}),n&&!o&&a.a.createElement(Ha,{stock:n}),o&&a.a.createElement(gr,null,o.Note))},ni=s.b.h2($a()),ti=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"CryptoAPI"))},ri=(t(221),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(fr,null,"A collection of helpful links."),a.a.createElement("ul",null,a.a.createElement("li",null,"Most promising API,",a.a.createElement(ai,{link:"https://www.alphavantage.co",name:"Alpha Vantage"})),a.a.createElement("li",null,"Example implementation of Alpha Vantage",a.a.createElement(ai,{link:"https://medium.com/@Keithweaver_/using-a-stock-market-api-4ce65b7c67ac",name:"here"})),a.a.createElement("li",null,"Possible organisational",a.a.createElement(ai,{link:"https://rikatillsammans.se/investera-pengar-privat-eller-via-sitt-aktiebolag/",name:"solution"}),"for SMP."),a.a.createElement("li",null,"ISK",a.a.createElement(ai,{link:"https://www.skatteverket.se/privat/etjansterochblanketter/svarpavanligafragor/investeringssparkonto.4.71004e4c133e23bf6db80001071.html",name:"information"}))))}),ai=function(e){var n=e.link,t=e.name,r=e.margins,i=void 0===r||r;return a.a.createElement(dr,{marginLeft:i,marginRight:i,href:n,target:"_blank",rel:"noopener noreferer"},t)},ii=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"ValueGraph"))},oi=function(){var e=Object(r.useState)(sessionStorage.getItem("tools-tab")||"Links"),n=e[0],t=e[1],i=["Links","ValueGraph"];return a.a.createElement(a.a.Fragment,null,a.a.createElement(lr,null,i&&i.map(function(e){return a.a.createElement(sr,{key:e,selected:n===e,onClick:function(){return mr("tools",e,t)}},e)})),"Links"===n&&a.a.createElement(ri,null),"ValueGraph"===n&&a.a.createElement(ii,null))};function ui(){var e=c()(["\n  width: 100%;\n"]);return ui=function(){return e},e}var ci=Object(s.b)(or)(ui()),li=function(){var e=Object(r.useState)(sessionStorage.getItem("spm-tab")||"About"),n=e[0],t=e[1],i=["About","Tools","StockAPI","CryptoAPI"];return a.a.createElement(ci,null,a.a.createElement(ur,{onClick:function(){return t("About")}},"Stock Pickers Monthly"),a.a.createElement(lr,null,i&&i.map(function(e){return a.a.createElement(sr,{key:e,selected:n===e,onClick:function(){return mr("spm",e,t)}},e)})),a.a.createElement(cr,null,"About"===n&&a.a.createElement(ja,null),"Tools"===n&&a.a.createElement(oi,null),"StockAPI"===n&&a.a.createElement(ei,null),"CryptoAPI"===n&&a.a.createElement(ti,null)))};function si(){var e=c()(["\n  color: ",";\n  display: flex;\n  justify-content: center;\n  margin: 0;\n  padding: 0;\n"]);return si=function(){return e},e}var mi=["Users","Chat","Habits","ReMemory","SPM"],di=function(){var e=Object(r.useState)("Welcome"),n=e[0],t=e[1],i=Object(r.useState)([]),o=i[0],u=i[1],c=Object(r.useState)(void 0),s=c[0],d=c[1],f=Object(r.useState)(!1),g=f[0],p=f[1],b=Object(r.useState)(!1),v=b[0],h=b[1],E=Object(r.useState)(!1),y=E[0],w=E[1],k=Object(r.useState)(!1),S=k[0],O=k[1],j=Object(r.useState)(!1),x=j[0],C=j[1];return Object(r.useEffect)(function(){h(!1),setTimeout(function(){h(!0)},400),z(G+"/users","Unauthorized").then(function(e){e.error||(u(e),d(e.find(function(e){return e.username===sessionStorage.getItem("username")&&e.password===sessionStorage.getItem("password")})))}),t(sessionStorage.getItem("main-tab")||"Spm")},[y,S,x]),a.a.createElement(m.b,{query:"2994927498",render:function(e){return v&&a.a.createElement(a.a.Fragment,null,a.a.createElement(M,{siteTitle:e.site.siteMetadata.title,currentUser:s,setCurrentUser:d,setLoginSuccessful:O}),!s&&!g&&a.a.createElement(fi,null,a.a.createElement(me,{setSignup:p,signUpSuccessful:y,setLoginSuccessful:O,setCurrentUser:d})),!s&&g&&a.a.createElement(fi,null,a.a.createElement(re,{setSignUpSuccessful:w,setCurrentUser:d,currentUser:s,setSignup:p})),s&&a.a.createElement(a.a.Fragment,null,a.a.createElement(lr,null,mi&&mi.map(function(e){return a.a.createElement(sr,{key:e,selected:n===e,onClick:function(){return mr("main",e,t)}},e)})),a.a.createElement(fi,null,"Welcome"===n&&a.a.createElement(ge,{currentUser:s}),"Users"===n&&a.a.createElement(Fe,{currentUser:s,users:o,updateUsers:x,setUpdateUsers:C}),"Chat"===n&&a.a.createElement(ln,{users:o,currentUser:s}),"Habits"===n&&a.a.createElement(Mt,{users:o,currentUser:s}),"ReMemory"===n&&"Sebbe"===s.username&&a.a.createElement(Oa,{users:o,currentUser:s}),"SPM"===n&&"Sebbe"===s.username&&a.a.createElement(li,{users:o,currentUser:s}))))},data:l})},fi=s.b.div(si(),p);n.default=function(){return a.a.createElement(i.a,null,a.a.createElement(o.a,{title:"Home",keywords:["gatsby","application","react"]}),a.a.createElement(di,null))}},150:function(e,n,t){"use strict";var r=t(0),a=t.n(r),i=t(4),o=t.n(i),u=(t(155),function(e){var n=e.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{margin:"0 auto",padding:"0 0.2rem 1.45rem",paddingTop:0}},a.a.createElement("main",null,n),a.a.createElement("footer",null)))});u.propTypes={children:o.a.node.isRequired},n.a=u},151:function(e,n,t){"use strict";var r=t(152),a=t(0),i=t.n(a),o=t(4),u=t.n(o),c=t(156),l=t.n(c);function s(e){var n=e.description,t=e.lang,a=e.meta,o=e.keywords,u=e.title,c=r.data.site,s=n||c.siteMetadata.description;return i.a.createElement(l.a,{htmlAttributes:{lang:t},title:u,titleTemplate:"%s | "+c.siteMetadata.title,meta:[{name:"description",content:s},{property:"og:title",content:u},{property:"og:description",content:s},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:c.siteMetadata.author},{name:"twitter:title",content:u},{name:"twitter:description",content:s}].concat(o.length>0?{name:"keywords",content:o.join(", ")}:[]).concat(a)})}s.defaultProps={lang:"en",meta:[],keywords:[]},s.propTypes={description:u.a.string,lang:u.a.string,meta:u.a.array,keywords:u.a.arrayOf(u.a.string),title:u.a.string.isRequired},n.a=s},152:function(e){e.exports={data:{site:{siteMetadata:{title:"MyWebTools",description:"The modular web tools, started with a chat.",author:"@gatsbyjs"}}}}},153:function(e,n,t){var r;e.exports=(r=t(157))&&r.default||r},154:function(e,n,t){"use strict";t.d(n,"b",function(){return s});var r=t(0),a=t.n(r),i=t(4),o=t.n(i),u=t(33),c=t.n(u);t.d(n,"a",function(){return c.a});t(153);var l=a.a.createContext({}),s=function(e){return a.a.createElement(l.Consumer,null,function(n){return e.data||n[e.query]&&n[e.query].data?(e.render||e.children)(e.data?e.data.data:n[e.query].data):a.a.createElement("div",null,"Loading (StaticQuery)")})};s.propTypes={data:o.a.object,query:o.a.string.isRequired,render:o.a.func,children:o.a.func}},157:function(e,n,t){"use strict";t.r(n);t(34);var r=t(0),a=t.n(r),i=t(4),o=t.n(i),u=t(59),c=t(2),l=function(e){var n=e.location,t=c.default.getResourcesForPathnameSync(n.pathname);return a.a.createElement(u.a,Object.assign({location:n,pageResources:t},t.json))};l.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}).isRequired},n.default=l},179:function(e){e.exports={data:{site:{siteMetadata:{title:"MyWebTools"}}}}}}]);
//# sourceMappingURL=component---src-pages-index-js-f81b22039e939ba48759.js.map
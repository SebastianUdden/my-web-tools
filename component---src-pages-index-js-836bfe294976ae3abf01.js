(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{145:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(156),i=t(154),u=t(147),c=t.n(u),s=(t(74),t(148)),l=t(146),d=t(177),m=t.n(d),f=(t(162),t(179)),p=t.n(f),g=t(180),b=t.n(g),h=function(){var e=p()(m.a.mark(function e(n,t){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(n,{params:{token:t}}).then(function(e){return e&&e.data}).catch(function(e){return console.error("GET-error: ",e),{error:e}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),v=function(){var e=p()(m.a.mark(function e(n,t,r){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(n,t,{params:{token:r}}).then(function(e){return console.log("POST-response: ",e),e&&e.data}).catch(function(e){return console.error("POST-error: ",e),{error:e}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(n,t,r){return e.apply(this,arguments)}}(),w=function(){var e=p()(m.a.mark(function e(n,t,r){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put(n,t,{params:{token:r}}).then(function(e){return console.log("PUT-response",e),e&&e.data}).catch(function(e){return console.error("PUT-error: ",e),{error:e}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(n,t,r){return e.apply(this,arguments)}}(),E=function(){var e=p()(m.a.mark(function e(n,t){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete(n).then(function(e){return console.log("DELETE-response: ",e),e&&e.data}).catch(function(e){return console.error("DELETE-error: ",e),{error:e}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),y="https://guarded-cove-61734.herokuapp.com",x="https://cdn.iconscout.com/icon/premium/png-256-thumb/human-user-profile-man-face-avatar-51412.png";function k(){var e=c()(["\n  width: 100%;\n  min-width: 50vw;\n  padding: 0.5rem;\n  background-color: ",";\n  color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  outline: none;\n  resize: none;\n"]);return k=function(){return e},e}var D=function(e){var n=e.value,t=e.setValue,r=e.rows,o=e.setRows,i=e.placeholder,u=e.id;return a.a.createElement(S,{id:u,placeholder:i,rows:r,value:n,onChange:function(e){var n=e.target.rows;e.target.rows=1;var r=~~(e.target.scrollHeight/24);r===n&&(e.target.rows=r),r>=25&&(e.target.rows=25,e.target.scrollTop=e.target.scrollHeight),t(e.target.value),o(r<25?r:25)}})},S=s.b.textarea(k(),l.a.darkerGrey,l.a.white,l.a.white);function j(e){var n=Object(r.useState)(!1),t=n[0],a=n[1];function o(n){n.key===e&&a(!0)}var i=function(n){n.key===e&&a(!1)};return Object(r.useEffect)(function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",i)}},[]),t}function O(){var e=c()(["\n  padding: 0.6rem 0.6rem;\n  font-size: 1.5em;\n  border: none;\n  border-radius: 10rem;\n  background-color: ",";\n  color: ",";\n"]);return O=function(){return e},e}function A(){var e=c()(["\n  background-color: ",";\n  padding: 1rem;\n  display: flex;\n  justify-content: space-evenly;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]);return A=function(){return e},e}var C=function(e,n){setTimeout(function(){e(""),n(1),window.scrollTo(0,document.body.scrollHeight)},100)},U=function(e){var n=e.userId,t=e.setDbUpdate,o=e.dbUpdate,i=e.currentUser,u=Object(r.useState)(""),c=u[0],s=u[1],l=Object(r.useState)(1),d=l[0],m=l[1],f=Object(r.useState)(!1),p=f[0],g=f[1],b=j("Enter");return Object(r.useEffect)(function(){setTimeout(function(){return C(s,m)},200)},[]),b&&!p&&c&&(g(!0),v(y+"/messages",{text:c,user:n},i.username).then(function(e){t(!o),document.getElementById("ChatInput").focus(),setTimeout(function(){return C(s,m)},200),setTimeout(function(){return g(!1)},1e3)})),a.a.createElement(a.a.Fragment,null,a.a.createElement(T,null,a.a.createElement(D,{id:"ChatInput",placeholder:"Message...",value:c,setValue:s,rows:d,setRows:m}),a.a.createElement(_,{onClick:function(){c&&!p&&(g(!0),v(y+"/messages",{text:c,user:n},i.username).then(function(e){t(!o),document.getElementById("ChatInput").focus(),setTimeout(function(){return C(s,m)},200)}))}},"➣")))},T=s.b.div(A(),l.a.darkerGrey),_=s.b.button(O(),l.a.white,l.a.darkGrey);function L(){var e=c()(["\n  width: ","rem;\n  height: ","rem;\n  border-radius: 5rem;\n  margin: ",";\n  visibility: ",";\n"]);return L=function(){return e},e}var M=function(e){var n=e.image,t=e.isVisible,r=e.size,o=e.margin;return a.a.createElement(G,{isVisible:n&&t,margin:o,src:n,size:r,alt:"Image unavailable"})},G=s.b.img(L(),function(e){return e.size},function(e){return e.size},function(e){return e.margin},function(e){return e.isVisible?"visible":"hidden"});function I(){var e=c()(["\n  background-color: inherit;\n  outline: none;\n  color: ",";\n  margin: 1rem;\n  padding: 1.5rem 0.5rem;\n"]);return I=function(){return e},e}function P(){var e=c()(["\n  color: ",";\n  border-radius: 1rem;\n  margin-left: 0.5rem;\n  padding: 0 0.3rem;\n  :hover {\n    color: ",";\n  }\n"]);return P=function(){return e},e}function F(){var e=c()(["\n  margin: 0.1rem 0.8rem;\n  padding: 0;\n  color: ",";\n"]);return F=function(){return e},e}function Y(){var e=c()(["\n  margin: 0 1rem;\n  padding: 0;\n  color: ",";\n"]);return Y=function(){return e},e}function V(){var e=c()(["\n  background-color: ",";\n  margin: 0 0.2rem;\n  padding: 0.5rem 0.7rem;\n  display: flex;\n  justify-content: ",";\n  align-items: flex-start;\n  border-radius: 1rem;\n  word-break: break-word;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return V=function(){return e},e}function X(){var e=c()(["\n  color: ",";\n  margin: 0;\n  padding: "," 0.5rem 0 0.5rem;\n  border-radius: 0.3rem;\n  display: flex;\n  flex-direction: ",";\n  max-width: 100%;\n"]);return X=function(){return e},e}var R=function(e){var n=e.message,t=e.isFirstMessage,o=e.users,i=e.setDbUpdate,u=e.dbUpdate,c=e.isCurrentUser,s=e.currentUser,l=Object(r.useRef)(null),d=Object(r.useState)(!1),m=d[0],f=d[1],p=Object(r.useState)(!1),g=p[0],b=p[1],h=Object(r.useState)(n.text),v=h[0],k=h[1],D=o&&o.find(function(e){return e._id===n.user});Object(r.useEffect)(function(){return document.addEventListener("mousedown",S,!1),function(){return document.removeEventListener("mousedown",S,!1)}},[]);var S=function(e){l.current&&!l.current.contains(e.target)&&"EditButton"!==e.target.id&&b(!1)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(z,{isCurrentUser:c,isFirstMessage:t,ref:l},a.a.createElement(M,{image:D&&D.image||x,isVisible:t,margin:(!c&&t?"1.6rem":c&&t?"-0.11rem":0)+" 0.5rem 0 0.3rem",size:2.5}),a.a.createElement("div",null,!c&&t&&a.a.createElement(W,null,D&&D.username),a.a.createElement(B,{empty:!n.text||!n.text.trim(),isCurrentUser:c,onClick:function(){return!g&&f(!m)}},!g&&v,g&&a.a.createElement(J,{value:v,onChange:function(e){k(e.target.value)}}),c&&m&&a.a.createElement(a.a.Fragment,null,!g&&a.a.createElement(q,{id:"EditButton",onClick:function(e){e.preventDefault(),e.stopPropagation(),b(!0)}},"✎"),g&&a.a.createElement(q,{onClick:function(e){e.preventDefault(),e.stopPropagation(),b(!1),w(y+"/messages/"+n._id,{text:v},s.username).then(function(e){i(!u)})}},"✓"),a.a.createElement(q,{onClick:function(e){e.preventDefault(),E(y+"/messages/"+n._id,s.username).then(function(e){i(!u)})}},"✕"))),m&&a.a.createElement(H,null,n.createdAt&&new Date(n.updatedAt?n.updatedAt:n.createdAt).toLocaleString()))))},z=s.b.div(X(),l.a.white,function(e){return e.isFirstMessage?"1rem":"0.3rem"},function(e){return e.isCurrentUser?"row-reverse":"row"}),B=s.b.p(V(),function(e){return e.isCurrentUser?l.a.darkishGrey:l.a.brightGrey},function(e){return e.empty?"flex-end":"space-between"},l.a.brightGrey),H=s.b.p(Y(),l.a.brightGrey),W=s.b.p(F(),l.a.brightGrey),q=s.b.span(P(),l.a.white,l.a.white),J=s.b.textarea(I(),l.a.white);function K(){var e=c()(["\n  min-height: 50vh;\n"]);return K=function(){return e},e}function N(){var e=c()(["\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  padding: 0.5rem 0.8rem 4rem;\n"]);return N=function(){return e},e}var Q=function(e){var n=e.users,t=e.currentUser,o=Object(r.useState)(void 0),i=o[0],u=o[1],c=Object(r.useState)(!1),s=c[0],l=c[1];return Object(r.useEffect)(function(){h(y+"/messages",t.username).then(function(e){u(e)})},[s]),a.a.createElement(Z,null,a.a.createElement($,null,i&&Array.isArray(i)&&i.map(function(e,r){return a.a.createElement(R,{key:e._id,message:e,isFirstMessage:0===r||i[r-1].user!==e.user,users:n,setDbUpdate:l,dbUpdate:s,isCurrentUser:t._id===e.user,currentUser:t})}),a.a.createElement(U,{userId:t._id,messages:i,setMessages:u,setDbUpdate:l,dbUpdate:s,currentUser:t})))},Z=s.b.div(N()),$=s.b.div(K());t(34);function ee(){var e=c()(["\n  display: flex;\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  outline: none;\n  color: ",";\n  margin: 1rem;\n  padding: 0.5rem;\n"]);return ee=function(){return e},e}var ne=function(e){var n=e.placeholder,t=e.type,r=e.value,o=e.setValue;return a.a.createElement(te,{placeholder:n,type:t,value:r,onChange:function(e){return o(e.target.value)}})},te=s.b.input(ee(),l.a.darkerGrey,l.a.white,l.a.white);function re(){var e=c()(["\n  color: orange;\n\n  :hover {\n    color: white;\n    cursor: pointer;\n  }\n"]);return re=function(){return e},e}function ae(){var e=c()(["\n  background-color: ",";\n  color: ",";\n  padding: 0.5rem 3rem;\n  margin: 1rem;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return ae=function(){return e},e}function oe(){var e=c()(["\n  margin-top: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 20rem;\n  text-align: center;\n"]);return oe=function(){return e},e}var ie=function(e){var n=e.setCurrentUser,t=e.setSignup,o=e.signUpSuccessful,i=e.setLoginSuccessful,u=Object(r.useState)(!1),c=u[0],s=u[1],l=Object(r.useState)(""),d=l[0],m=l[1],f=Object(r.useState)(""),p=f[0],g=f[1],b=Object(r.useState)(""),v=b[0],w=b[1],E=Object(r.useState)(0),x=E[0],k=E[1];return Object(r.useEffect)(function(){setTimeout(function(){return s(!0)},200)},[]),Object(r.useEffect)(function(){h(y+"/users").then(function(e){e.error||w(e)})},[x]),a.a.createElement(ue,null,c&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Login"),a.a.createElement(ne,{placeholder:"Username",type:"text",value:d,setValue:m}),a.a.createElement(ne,{placeholder:"Password",type:"password",value:p,setValue:g}),a.a.createElement(ce,{onClick:function(){le(d,p,n,v,i),setTimeout(function(){return k(x+1)},200)}},"Login"),x>0&&a.a.createElement("p",{style:{color:"red"}},"Invalid login (",x,")"),!o&&a.a.createElement("p",null,"Sign up ",a.a.createElement(se,{onClick:function(){return t(!0)}},"here")),a.a.createElement("br",null),o&&a.a.createElement("p",null,"Sign up successful! You can now log in with your new username and password.")))},ue=s.b.div(oe()),ce=s.b.button(ae(),l.a.darkerGrey,l.a.white,l.a.grey),se=s.b.span(re()),le=function(e,n,t,r,a){void 0===e&&(e={}.MOCK_USER),void 0===n&&(n={}.MOCK_PASSWORD),sessionStorage.clear();var o=r&&r.find(function(t){return t.username===e&&t.password===n});o?(sessionStorage.setItem("username",e),sessionStorage.setItem("password",n),w(y+"/users/"+o._id,Object.assign({},o,{updatedAt:new Date}),o.username).then(function(e){a(!0),t(o)})):t(void 0)};function de(){var e=c()(["\n  padding: 5rem;\n  text-align: center;\n"]);return de=function(){return e},e}var me=function(e){var n=e.currentUser;return a.a.createElement(fe,null,a.a.createElement(M,{image:n.image||x,isVisible:!0,margin:"0 0.5rem 0 0",size:10}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("h2",null,"Welcome ",n.username),a.a.createElement("p",null,"In the tabs above you can see other registered users, ",a.a.createElement("br",null),"use MyChat as well as sign out."))},fe=s.b.div(de()),pe=(t(169),t(206),t(157),t(7)),ge=t.n(pe);function be(){var e=c()(["\n          z-index: 40;\n        "]);return be=function(){return e},e}function he(){var e=c()(["\n          position: relative;\n          z-index: 2500;\n          color: orange;\n          opacity: 0.8;\n          cursor: grabbing;\n        "]);return he=function(){return e},e}function ve(){var e=c()(["\n  padding: 0 !important;\n  margin: 0;\n  touch-action: none;\n  cursor: grab;\n  transition: color 0.3s ease-out;\n  transition: opacity 0.3s ease-out;\n\n  ",";\n"]);return ve=function(){return e},e}var we=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).state={isDragging:!1,originalX:0,originalY:0,translateX:0,translateY:0,lastTranslateX:0,lastTranslateY:0},n.handleTouchStart=function(e,t){e.touches[0]&&(e.stopPropagation(),e.preventDefault(),window.addEventListener("touchmove",function(e){return n.handleTouchMove(e,t)}),window.addEventListener("touchend",n.handleTouchEnd),n.props.onDragStart&&n.props.onDragStart({x:e.touches[0].clientX,y:e.touches[0].clientY}),n.setState({originalX:e.touches[0].clientX,originalY:e.touches[0].clientY,isDragging:!0}))},n.moveAlongAxis=function(e,t){var r=n.props.onDrag;n.setState(function(n){var r;return(r={})["translate"+t]=e.touches[0]["client"+t]-n["original"+t]+n["lastTranslate"+t],r},function(){var e;r&&r(((e={})[t.toLowerCase()]=n.state["translate"+t],e["lastTranslate"+t]=n.state["lastTranslate"+t],e["original"+t]=n.state["original"+t],e))})},n.handleTouchMove=function(e,t){if(e.touches[0]&&(e.stopPropagation(),e.preventDefault(),n.state.isDragging))switch(t){case"X":n.moveAlongAxis(e,"X");break;case"Y":n.moveAlongAxis(e,"Y");break;default:return n.moveAlongAxis(e,"X"),void n.moveAlongAxis(e,"Y")}},n.handleTouchEnd=function(e){e.stopPropagation(),window.removeEventListener("touchmove",n.handleTouchMove),window.removeEventListener("touchend",n.handleTouchEnd),n.setState({originalX:0,originalY:0,translateX:0,translateY:0,lastTranslateX:0,lastTranslateY:0,isDragging:!1},function(){n.props.onDragEnd&&n.props.onDragEnd({x:n.state.lastTranslateX,y:n.state.lastTranslateY})})},n.handleMouseDown=function(e){var t=e.clientX,r=e.clientY;window.addEventListener("mousemove",n.handleMouseMove),window.addEventListener("mouseup",n.handleMouseUp),n.props.onDragStart&&n.props.onDragStart(),n.setState({originalX:t,originalY:r,isDragging:!0})},n.handleMouseMove=function(e){var t=e.clientX,r=e.clientY,a=n.state.isDragging,o=n.props.onDrag;a&&n.setState(function(e){return{translateX:t-e.originalX+e.lastTranslateX,translateY:r-e.originalY+e.lastTranslateY}},function(){o&&o({translateX:n.state.translateX,translateY:n.state.translateY})})},n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove),window.removeEventListener("mouseup",n.handleMouseUp),n.setState({originalX:0,originalY:0,lastTranslateX:n.state.translateX,lastTranslateY:n.state.translateY,isDragging:!1},function(){n.props.onDragEnd&&n.props.onDragEnd()})},n}ge()(n,e);var t=n.prototype;return t.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)},t.render=function(){var e=this,n=this.props,t=n.children,r=n.draggableStyle,o=this.state,i=o.translateX,u=o.translateY,c=o.isDragging;return a.a.createElement(Ee,{onMouseDown:this.handleMouseDown,onTouchStart:function(n){e.handleTouchStart(n,"Y")},x:i,y:u,isDragging:c,style:r},t)},n}(a.a.Component),Ee=s.b.div.attrs({style:function(e){return{transform:"translate("+e.x+"px, "+e.y+"px)"}}})(ve(),function(e){return e.isDragging?Object(s.a)(he()):Object(s.a)(be())}),ye=(t(207),t(35),t(37),function(e,n){var t="000000000"+e;return t.substr(t.length-n)}),xe=function(e,n){if(!e)return"--/--/----";var t=new Date(e),r=t.toLocaleDateString(),a=t.getHours(),o=t.getMinutes();return r+(n?"":" - "+ye(a,2)+":"+ye(o,2))},ke=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})};function De(){var e=c()(["\n  width: 100%;\n"]);return De=function(){return e},e}function Se(){var e=c()(["\n  background-color: inherit;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid ",";\n  color: ",";\n"]);return Se=function(){return e},e}function je(){var e=c()(["\n  background-color: inherit;\n  padding: 0;\n  margin: 0;\n  margin-left: 0.5rem;\n"]);return je=function(){return e},e}function Oe(){var e=c()(["\n  background-color: #a40000;\n"]);return Oe=function(){return e},e}function Ae(){var e=c()(["\n  margin-top: 0.5rem;\n  border-top: 1px solid #3b3b3b;\n"]);return Ae=function(){return e},e}function Ce(){var e=c()(["\n  :hover {\n    color: ",";\n  }\n"]);return Ce=function(){return e},e}function Ue(){var e=c()(["\n  color: ",";\n"]);return Ue=function(){return e},e}function Te(){var e=c()(["\n  font-size: small;\n  margin: 0;\n  padding: 0;\n"]);return Te=function(){return e},e}function _e(){var e=c()(["\n  list-style: none;\n  padding-left: 0;\n  margin: 0;\n"]);return _e=function(){return e},e}function Le(){var e=c()(["\n  display: flex;\n  justify-content: space-between;\n"]);return Le=function(){return e},e}function Me(){var e=c()(["\n  height: 49%;\n"]);return Me=function(){return e},e}function Ge(){var e=c()(["\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: space-between;\n  min-height: 8rem;\n"]);return Ge=function(){return e},e}function Ie(){var e=c()(["\n  border: 1px solid ",";\n  padding: 0.5rem;\n  background: inherit;\n  color: ",";\n  width: 100%;\n"]);return Ie=function(){return e},e}function Pe(){var e=c()(["\n  display: flex;\n  margin: 0.5rem 0;\n  min-height: 8rem;\n"]);return Pe=function(){return e},e}function Fe(){var e=c()(["\n  margin: 0.5rem 0;\n"]);return Fe=function(){return e},e}function Ye(){var e=c()(["\n  margin-left: 0.5rem;\n  padding: 0.2rem 0.8rem 0;\n  border-radius: 0.2rem;\n  opacity: 0.8;\n\n  :hover {\n    cursor: pointer;\n    opacity: 1;\n  }\n"]);return Ye=function(){return e},e}function Ve(){var e=c()(["\n  color: ",";\n  font-size: small;\n"]);return Ve=function(){return e},e}function Xe(){var e=c()(["\n  color: ",";\n  margin-right: 0.5rem;\n  line-height: 1rem;\n"]);return Xe=function(){return e},e}function Re(){var e=c()(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return Re=function(){return e},e}function ze(){var e=c()(["\n  border: 1px solid ",";\n  border-radius: 5rem;\n  padding: 0.2rem 0.6rem;\n  margin-right: 0.5rem;\n  margin-top: -0.3rem;\n"]);return ze=function(){return e},e}function Be(){var e=c()(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0;\n  margin: 0;\n"]);return Be=function(){return e},e}function He(){var e=c()(["\n  display: flex;\n  align-items: center;\n"]);return He=function(){return e},e}function We(){var e=c()(["\n  cursor: pointer;\n  width: 100%;\n  min-width: 16rem;\n"]);return We=function(){return e},e}function qe(){var e=c()(["\n  display: flex;\n  padding: 0.6rem;\n"]);return qe=function(){return e},e}function Je(){var e=c()(["\n  background-color: ",";\n  border: none;\n  color: ",";\n"]);return Je=function(){return e},e}var Ke=function(e){var n=e.habit,t=e.addOccasion,o=e.deleteHabit,i=e.currentUser,u=n.name,c=n.title,s=n.description,l=n.rank,d=n.occasions,m=Object(r.useState)(d),f=m[0],p=m[1],g=Object(r.useState)(!1),b=g[0],h=g[1],v=Object(r.useState)(!1),x=v[0],k=v[1],D=Object(r.useState)(!1),S=D[0],j=D[1],O=Object(r.useState)(s),A=O[0],C=O[1],U=Object(r.useState)(s),T=U[0],_=U[1],L=Object(r.useState)(!1),M=L[0],G=L[1],I=Object(r.useState)(""),P=I[0],F=I[1],Y=function(e,t){f&&p(f.map(function(n){return n._id===e?Object.assign({},n,{note:t}):n})),w(y+"/habits/"+n._id,Object.assign({},n,{occasions:f?f.map(function(n){return n._id===e?Object.assign({},n,{note:t}):n}):[]}),i.username)},V=function(e){f&&p(f.filter(function(n){return n._id!==e})),w(y+"/habits/"+n._id,Object.assign({},n,{occasions:f?f.filter(function(n){return n._id!==e}):[]}),i.username)};return a.a.createElement(Qe,{id:u},a.a.createElement(Ze,null,a.a.createElement(mn,{onClick:function(){return h(!b)}},a.a.createElement($e,null,a.a.createElement(nn,null,l),a.a.createElement(tn,null,a.a.createElement(rn,null,c),a.a.createElement(an,null,0!==f.length&&xe(f[0].time,!0)))),a.a.createElement(en,null,a.a.createElement("div",null,!M&&a.a.createElement(on,{onClick:function(e){e.stopPropagation(),G(!0)}},"+"),M&&a.a.createElement(a.a.Fragment,null,a.a.createElement(on,{onClick:function(e){e.stopPropagation(),t(u,P),G(!1)}},"✓"),a.a.createElement(on,{onClick:function(e){e.stopPropagation(),G(!1)}},"✕")),b&&a.a.createElement(vn,{onClick:function(e){e.preventDefault(),E(y+"/habits/"+n._id,i.username).then(function(e){o(n._id)})}},"✕")))),M&&a.a.createElement(mn,null,a.a.createElement(hn,{style:{width:"100%"}},a.a.createElement(yn,{onChange:function(e){return F(e.target.value)}}))),b&&a.a.createElement(hn,null,!S&&a.a.createElement(un,{onClick:function(){return j(!0)}},T),S&&a.a.createElement(cn,null,a.a.createElement(sn,{value:A,onChange:function(e){return C(e.target.value)}}),a.a.createElement(ln,null,a.a.createElement(dn,{onClick:function(){""===A&&C("Enter description here..."),_(""===A?"Enter description here...":A),w(y+"/habits/"+n._id,Object.assign({},n,{description:A}),i.username),j(!1)}},"Save"),a.a.createElement(dn,{onClick:function(){j(!1),C(T)}},"Cancel"))),0!==f.length&&a.a.createElement(fn,null,x?a.a.createElement(a.a.Fragment,null,f.map(function(e,n){return n<10&&a.a.createElement(xn,{occasion:e,index:n,onUpdateOccasion:Y,onDeleteOccasion:V})}),a.a.createElement(pn,{onClick:function(e){e.stopPropagation(),k(!1)}},a.a.createElement(bn,null,"Hide history"))):a.a.createElement(pn,{onClick:function(e){e.stopPropagation(),k(!0)}},a.a.createElement(bn,null,"Show history"))))))},Ne=s.b.button(Je(),l.a.brightGrey,l.a.white),Qe=s.b.div(qe()),Ze=s.b.div(We()),$e=s.b.div(He()),en=s.b.div(Be()),nn=s.b.span(ze(),l.a.white),tn=s.b.div(Re()),rn=s.b.label(Xe(),l.a.white),an=s.b.label(Ve(),l.a.orange),on=Object(s.b)(Ne)(Ye()),un=s.b.p(Fe()),cn=s.b.div(Pe()),sn=s.b.textarea(Ie(),l.a.brightGrey,l.a.darkWhite),ln=s.b.div(Ge()),dn=Object(s.b)(Ne)(Me()),mn=s.b.div(Le()),fn=s.b.ul(_e()),pn=s.b.li(Te()),gn=s.b.span(Ue(),l.a.orange),bn=s.b.span(Ce(),l.a.orange),hn=s.b.div(Ae()),vn=Object(s.b)(on)(Oe()),wn=Object(s.b)(on)(je()),En=s.b.input(Se(),l.a.orange,l.a.orange),yn=Object(s.b)(En)(De()),xn=function(e){var n=e.occasion,t=e.index,o=e.onUpdateOccasion,i=e.onDeleteOccasion,u=Object(r.useState)(!1),c=u[0],s=u[1],l=Object(r.useState)(n.note),d=l[0],m=l[1];return a.a.createElement(pn,{key:n.time+"-"+t,onClick:function(e){e.stopPropagation(),s(!c),c&&o(n._id,d)}},a.a.createElement(gn,null,xe(n.time),n.note&&":")," ",!c&&n.note,c&&a.a.createElement(a.a.Fragment,null,a.a.createElement(En,{value:d,onClick:function(e){return e.stopPropagation()},onChange:function(e){return m(e.target.value)}}),a.a.createElement(wn,{onClick:function(e){e.stopPropagation(),i(n._id)}},"✕")))},kn=function(e){var n=e.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:n.top+r,left:n.left+t}},Dn=function(e,n){return e.rank<n.rank?-1:e.rank>n.rank?1:0},Sn=function(e){var n=e.listData,t=e.onListUpdate,o=e.currentUser,i=e.setListOrder,u=Object(r.useState)(n||["hello"]),c=u[0],s=u[1],d=Object(r.useState)({}),m=d[0],f=d[1],p=Object(r.useState)({})[1],g=Object(r.useState)(0),b=g[0],h=g[1],v=Object(r.useState)(void 0),w=v[0],E=v[1];Object(r.useEffect)(function(){s(n)},[n]);var y=function(e,n){t(c.map(function(t){return t.name===e?Object.assign({},t,{occasions:(r={_id:ke(),time:new Date,note:n},a=t.occasions,o=a.slice(),o.unshift(r),o)}):t;var r,a,o}))},x=function(e){t(c.filter(function(n){return n._id!==e}).map(function(e,n){return Object.assign({},e,{rank:n+1})}))},k=function(e){var n=c.findIndex(function(n){return n.name===e.name}),t=c.map(function(e,t){return function(e,n,t,r){var a=kn(document.getElementById(n.name)).top;return t>r?a<b?(E(Object.assign({},e[r],{rank:n.rank})),Object.assign({},n,{rank:n.rank-1})):n:t<r?a>b?((t-1<0||b>kn(document.getElementById(e[t-1].name)).top)&&E(Object.assign({},e[r],{rank:n.rank,topValue:!0})),Object.assign({},n,{rank:n.rank+1})):n:(console.log("Moved: ",n.name),n)}(c,e,t,n)});s(t),i(t)};Object(r.useEffect)(function(){if(w){var e=c.map(function(e){return e.name===w.name?w:e});s(e),i(e)}},[w]);var D=c.sort(Dn);return a.a.createElement(a.a.Fragment,null,D&&D.map(function(e){return a.a.createElement(we,{key:e.name,onDragStart:function(n){return function(e,n){e&&p(Object.assign({name:n},e))}(n,e.name)},onDrag:function(n){return function(e,n){document.getElementById(n)&&h(kn(document.getElementById(n)).top),f(Object.assign({name:n},e))}(n,e.name)},onDragOver:function(e){return e.preventDefault()},onDragEnd:function(){return k(m)},draggableStyle:{backgroundColor:l.a.darkishGrey,margin:"1rem 0",padding:"1rem",width:"100%",zIndex:"20"}},a.a.createElement(Ke,{habit:e,addOccasion:y,deleteHabit:x,currentUser:o}))}))};function jn(){var e=c()(["\n  padding: 0.6rem 0.6rem;\n  font-size: 1.5em;\n  border: none;\n  border-radius: 10rem;\n  background-color: ",";\n  color: ",";\n"]);return jn=function(){return e},e}function On(){var e=c()(["\n  margin-bottom: 5rem;\n"]);return On=function(){return e},e}function An(){var e=c()(["\n  background-color: ",";\n  padding: 1rem;\n  display: flex;\n  justify-content: space-evenly;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n"]);return An=function(){return e},e}function Cn(){var e=c()(["\n  background-color: ",";\n  color: ",";\n  width: 50%;\n  padding: 0.8rem 0;\n  border: none;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n\n  :active {\n    background-color: ",";\n  }\n"]);return Cn=function(){return e},e}function Un(){var e=c()(["\n  width: 100%;\n"]);return Un=function(){return e},e}function Tn(){var e=c()(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin: 0 0.5rem;\n  align-items: center;\n"]);return Tn=function(){return e},e}Sn.defaultProps={listData:[],onListUpdate:function(){}};var _n=s.b.div(Tn()),Ln=s.b.div(Un()),Mn=s.b.button(Cn(),function(e){return e.selected?l.a.brightGrey:l.a.darkGrey},l.a.white,l.a.brightGrey,function(e){return e.selected?l.a.brightGrey:l.a.darkGrey}),Gn=function(e){e.users;var n=e.currentUser,t=Object(r.useState)([]),o=t[0],i=t[1],u=Object(r.useState)(!1),c=u[0],s=u[1],l=Object(r.useState)(""),d=l[0],m=l[1],f=Object(r.useState)(1),p=f[0],g=f[1],b=j("Enter");Object(r.useEffect)(function(){n&&h(y+"/habits",n.username).then(function(e){i(e)})},[]);var E=function(e){e.forEach(function(e){w(y+"/habits/"+e._id,e,n.username)}),i(e)},x=function(e){v(y+"/habits",e,n.username).then(function(e){h(y+"/habits",n.username).then(function(e){i(e)}),document.getElementById("HabitInput").focus(),setTimeout(function(){return C(m,g)},200),setTimeout(function(){return s(!1)},1e3)})},k=o.map(function(e){return e&&Object.assign({name:e.title&&e.title.toLowerCase()},e)});return b&&!c&&d&&(s(!0),x({title:d,description:"Enter description here...",startDate:new Date,endDate:new Date,occasions:[],rank:o.length+1})),a.a.createElement(_n,null,a.a.createElement(Ln,null,k.length>0&&a.a.createElement(Sn,{listData:k,onListUpdate:E,setListOrder:i,currentUser:n})),a.a.createElement(Pn,{onClick:function(){return E(o)}},"Save order"),a.a.createElement(In,null,a.a.createElement(D,{id:"HabitInput",placeholder:"New habit...",value:d,setValue:m,rows:p,setRows:g}),a.a.createElement(Fn,{onClick:function(){s(!0),!c&&x({title:d,description:"Enter description here...",startDate:new Date,endDate:new Date,occasions:[],rank:o.length+1}),setTimeout(function(){return C(m,g)},200),setTimeout(function(){return s(!1)},1e3)}},"➣")))},In=s.b.div(An(),l.a.darkerGrey),Pn=Object(s.b)(Mn)(On()),Fn=s.b.button(jn(),l.a.white,l.a.darkGrey);function Yn(){var e=c()(["\n  background-color: ",";\n  color: ",";\n  padding: 0.5rem 3rem;\n  margin: 1rem;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return Yn=function(){return e},e}function Vn(){var e=c()(["\n  display: flex;\n  text-align: center;\n  flex-direction: column;\n  justify-content: center;\n"]);return Vn=function(){return e},e}var Xn=function(e){var n=e.setSignup,t=e.setSignUpSuccessful,o=Object(r.useState)(!1),i=o[0],u=o[1],c=Object(r.useState)(""),s=c[0],l=c[1],d=Object(r.useState)(""),m=d[0],f=d[1],p=Object(r.useState)(""),g=p[0],b=p[1],v=Object(r.useState)(""),w=v[0],E=v[1],k=Object(r.useState)(""),D=k[0],S=k[1],j=Object(r.useState)(""),O=j[0],A=j[1],C=Object(r.useState)(""),U=C[0],T=C[1],_=Object(r.useState)(""),L=_[0],G=_[1],I=Object(r.useState)(0),P=I[0],F=I[1];return Object(r.useEffect)(function(){setTimeout(function(){return u(!0)},200)},[]),Object(r.useEffect)(function(){h(y+"/users","Unauthorized").then(function(e){G(e)})},[P]),a.a.createElement(Rn,null,i&&a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Sign Up"),a.a.createElement(ne,{placeholder:"Username",type:"text",value:s,setValue:l}),a.a.createElement(ne,{placeholder:"E-mail",type:"text",value:m,setValue:f}),a.a.createElement(ne,{placeholder:"Password",type:"password",value:g,setValue:b}),a.a.createElement(ne,{placeholder:"First name",type:"text",value:w,setValue:E}),a.a.createElement(ne,{placeholder:"Last name",type:"text",value:D,setValue:S}),a.a.createElement(ne,{placeholder:"Location",type:"text",value:O,setValue:A}),a.a.createElement(ne,{placeholder:"Image url",type:"text",value:U,setValue:T}),a.a.createElement(M,{image:U||x,isVisible:!0,margin:"0 auto 2rem",size:10}),a.a.createElement(zn,{onClick:function(){F(P+1),Bn({username:s,email:m,password:g,firstname:w,lastname:D,location:O,image:U},L,t),sessionStorage.clear(),n(!1)}},"Sign Up"),P>0&&a.a.createElement("p",{style:{color:"red"}},"Invalid sign up (",P,")")))},Rn=s.b.div(Vn()),zn=s.b.button(Yn(),l.a.darkerGrey,l.a.white,l.a.grey),Bn=function(e,n,t){n&&n.find(function(n){return n.username===e.username||n.email===e.email})||(v(y+"/users",e,"Unauthorized").then(function(e){console.log("USER-CREATE-response: ",e)}),t(!0))};function Hn(){var e=c()(["\n  display: flex;\n  flex-direction: column;\n"]);return Hn=function(){return e},e}function Wn(){var e=c()(["\n  background-color: inherit;\n  outline: none;\n  border: none;\n  border-bottom: 1px solid ",";\n  color: ",";\n  margin: 0 0 1rem 0;\n  padding: 0.5rem 0.5rem;\n"]);return Wn=function(){return e},e}function qn(){var e=c()(["\n  color: ",";\n"]);return qn=function(){return e},e}function Jn(){var e=c()(["\n  color: ",";\n  background-color: ",";\n  border: 1px solid white;\n  border-radius: 0.5rem;\n  margin-left: 0.5rem;\n  padding: 0.4rem 0.5rem 0.3rem;\n  cursor: pointer;\n  :hover {\n    color: ",";\n  }\n"]);return Jn=function(){return e},e}function Kn(){var e=c()(["\n  height: 5rem;\n  display: flex;\n  align-items: center;\n"]);return Kn=function(){return e},e}function Nn(){var e=c()(["\n  margin: 0.2rem 0;\n"]);return Nn=function(){return e},e}function Qn(){var e=c()(["\n  margin: 0;\n"]);return Qn=function(){return e},e}function Zn(){var e=c()(["\n  background-color: ",";\n  border-radius: 0.5rem;\n  padding: ",";\n  margin: 0.5rem auto;\n  border: ",";\n  width: 100%;\n  max-width: 500px;\n  cursor: pointer;\n  :hover {\n    color: ",";\n  }\n"]);return Zn=function(){return e},e}var $n=function(e){var n=e.user,t=e.isCurrentUser,o=e.updateUsers,i=e.setUpdateUsers,u=Object(r.useState)(!1),c=u[0],s=u[1],l=Object(r.useState)(!1),d=l[0],m=l[1],f=Object(r.useState)(n.username),p=f[0],g=f[1],b=Object(r.useState)(n.firstname),h=b[0],v=b[1],E=Object(r.useState)(n.lastname),k=E[0],D=E[1],S=Object(r.useState)(n.location),j=S[0],O=S[1],A=Object(r.useState)(n.image),C=A[0],U=A[1];return a.a.createElement(et,{isCurrentUser:t,expandedView:c,onClick:function(){return!d&&s(!c)}},a.a.createElement(rt,null,a.a.createElement(M,{image:n.image||x,isVisible:!0,margin:"0 0.5rem 0 0",size:c?5:3}),a.a.createElement(nt,null,p),!d&&t&&a.a.createElement(at,{id:"EditButton",onClick:function(e){e.preventDefault(),e.stopPropagation(),s(!0),m(!0)}},"✎"),d&&a.a.createElement(a.a.Fragment,null,a.a.createElement(at,{onClick:function(){m(!1),g(n.username),v(n.firstname),D(n.lastname),O(n.location),U(n.image)}},"Back ←"),a.a.createElement(at,{onClick:function(e){e.preventDefault(),e.stopPropagation(),m(!1),w(y+"/users/"+n._id,Object.assign({},n,{username:p,firstname:h,lastname:k,location:j,image:C}),n.username).then(function(e){sessionStorage.setItem("username",p),i(!o)})}},"Save ✓"))),c&&a.a.createElement(a.a.Fragment,null,!d&&a.a.createElement(a.a.Fragment,null,a.a.createElement(tt,null,a.a.createElement(ot,null,"Full name:")," ",h," ",k),a.a.createElement(tt,null,a.a.createElement(ot,null,"Location:")," ",j),a.a.createElement(tt,null,a.a.createElement(ot,null,"Signed up:")," ",new Date(n.createdAt).toLocaleString()),a.a.createElement(tt,null,a.a.createElement(ot,null,"Latest log in:")," ",new Date(n.updatedAt).toLocaleString())),d&&a.a.createElement(ut,null,a.a.createElement(ot,null,"Username"),a.a.createElement(it,{value:p,onChange:function(e){g(e.target.value)}}),a.a.createElement(ot,null,"First name"),a.a.createElement(it,{value:h,onChange:function(e){v(e.target.value)}}),a.a.createElement(ot,null,"Last name"),a.a.createElement(it,{value:k,onChange:function(e){D(e.target.value)}}),a.a.createElement(ot,null,"Location"),a.a.createElement(it,{value:j,onChange:function(e){O(e.target.value)}}),a.a.createElement(ot,null,"Image URL"),a.a.createElement(it,{value:C,onChange:function(e){U(e.target.value)}}),a.a.createElement(M,{image:C||x,isVisible:!0,margin:"0 auto",size:10}))))},et=s.b.div(Zn(),l.a.darkGrey,function(e){return e.expandedView?"1rem 0.6rem":"0 0.5rem"},function(e){return e.isCurrentUser?"1px solid white":"none"},l.a.orange),nt=s.b.h2(Qn()),tt=s.b.p(Nn()),rt=s.b.div(Kn()),at=s.b.span(Jn(),l.a.white,l.a.darkerGrey,l.a.orange),ot=s.b.label(qn(),l.a.brightGrey),it=s.b.input(Wn(),l.a.white,l.a.white),ut=s.b.div(Hn());function ct(){var e=c()(["\n  margin: 0.5rem;\n  padding: 0;\n  width: 100%;\n"]);return ct=function(){return e},e}var st=function(e){var n=e.currentUser,t=e.users,r=e.updateUsers,o=e.setUpdateUsers;return a.a.createElement(lt,null,a.a.createElement($n,{isCurrentUser:!0,user:n,updateUsers:r,setUpdateUsers:o}),t&&Array.isArray(t)&&t.filter(function(e){return e.username!==n.username}).map(function(e){return a.a.createElement($n,{isCurrentUser:n.username===e.username,user:e,updateUsers:r,setUpdateUsers:o})}))},lt=s.b.div(ct());t(76),t(77);function dt(){var e=c()(["\n  color: ",";\n"]);return dt=function(){return e},e}function mt(){var e=c()(["\n  opacity: 0.3;\n"]);return mt=function(){return e},e}function ft(){var e=c()([""]);return ft=function(){return e},e}function pt(){var e=c()(["\n  opacity: 0.3;\n"]);return pt=function(){return e},e}function gt(){var e=c()([""]);return gt=function(){return e},e}function bt(){var e=c()(["\n  border: 1px solid ",";\n  padding: 0.1rem 0.5rem;\n  margin: 0.2rem;\n  opacity: 0.8;\n\n  :hover {\n    cursor: pointer;\n    opacity: 1;\n  }\n"]);return bt=function(){return e},e}function ht(){var e=c()(["\n  padding: 0.2rem 0;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-wrap: wrap;\n  div:nth-child(3) {\n    margin-top: -0.01rem;\n    border: 1px solid red;\n  }\n"]);return ht=function(){return e},e}function vt(){var e=c()(["\n  margin: 0;\n"]);return vt=function(){return e},e}function wt(){var e=c()(["\n  margin-left: -1.3rem;\n  background-color: inherit;\n  border: none;\n  color: inherit;\n"]);return wt=function(){return e},e}function Et(){var e=c()(["\n  border: none;\n  border-bottom: 1px solid ",";\n  color: ",";\n  background-color: inherit;\n  padding: 0.1rem 0.5rem;\n  width: 98%;\n  max-width: 85vw;\n"]);return Et=function(){return e},e}function yt(){var e=c()(["\n  margin: 0 0.2rem;\n  width: 100vw;\n"]);return yt=function(){return e},e}function xt(){var e=c()(["\n  list-style: none;\n  margin: 1rem 0;\n  padding: 0;\n"]);return xt=function(){return e},e}function kt(){var e=c()(["\n  border: 1px solid ",";\n  color: ",";\n  background-color: ",";\n  width: 100vw;\n  position: fixed;\n  display: flex;\n  justify-content: space-between;\n  font-size: larger;\n  padding: 1rem 1rem 0.5rem;\n  bottom: 0;\n"]);return kt=function(){return e},e}function Dt(){var e=c()(["\n  color: ",";\n"]);return Dt=function(){return e},e}function St(){var e=c()(["\n  color: ",";\n"]);return St=function(){return e},e}function jt(){var e=c()(["\n  max-width: 90vw;\n  margin-bottom: 3rem;\n"]);return jt=function(){return e},e}var Ot=function(e,n,t,r){if(t.length)return t.filter(function(e){return e.name===r}).map(function(t){return e[n.indexOf(t.linkedId)]})},At=function(){var e,n,t=Object(r.useState)(""),o=t[0],i=t[1],u=Object(r.useState)((e=[{_id:ke(),name:"Programming",description:"Collection of all programming related memories",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["categories"]},{_id:ke(),name:"Sports",description:"Collection of all sports related memories",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["categories"]},{_id:ke(),name:"Celebrations",description:"Collection of all celebration related memories",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["categories"]},{_id:ke(),name:"Padel with Sofia, Alex & Alex",description:"Play padel at pdlcenter",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["sports","sofia","alex","friends","padel","stockholm"]},{_id:ke(),name:"Midsummer in hartung",description:"Celebrate with Sofia and the family. Also meet Alex & Alex.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["celebrations","sofia","alex","family","sundsvall","midsummer"]},{_id:ke(),name:"Office party",description:"Festival themed office party at Trädgården.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["celebrations","trädgården","festival","theme party"]},{_id:ke(),name:"HTML",description:"All you need to know about HTML.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["programming","web","syntax"]},{_id:ke(),name:"JavaScript",description:"All you need to know about JavaScript.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["programming","web","syntax"]},{_id:ke(),name:"CSS",description:"All you need to know about CSS.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["programming","web","syntax"]},{_id:ke(),name:"ES6",description:"All you need to know about ES6.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["javascript","programming","web","syntax"]},{_id:ke(),name:"React",description:"All you need to know about React.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["javascript","programming","web","syntax","dw online sales tech-stack"]},{_id:ke(),name:"Node",description:"All you need to know about Node.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["javascript","programming","web","syntax","dw online sales tech-stack"]},{_id:ke(),name:"Vue",description:"All you need to know about Vue.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["javascript","programming","web","syntax"]},{_id:ke(),name:"Styled Components",description:"All you need to know about Styled Components.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["css","javascript","programming","web","syntax","dw online sales tech-stack"]},{_id:ke(),name:"GraphQL",description:"All you need to know about GraphQL.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["db","API","programming","javascript","web","syntax","dw online sales tech-stack"]},{_id:ke(),name:"MongoDB",description:"All you need to know about MongoDB.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["db","javascript","programming","web","syntax","my-web-tools tech-stack"]},{_id:ke(),name:"Array.some()",description:"The some() method tests whether at least one element in the array passes the test implemented by the provided function. It returns a Boolean value.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["es6","array","syntax"]},{_id:ke(),name:"Array.map()",description:"The map() method creates a new array with the results of calling a provided function on every element in the calling array.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["es6","array","syntax"]},{_id:ke(),name:"Array.reduce()",description:"The reduce() method executes a reducer function (that you provide) on each element of the array, resulting in a single output value.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["es6","array","syntax"]},{_id:ke(),name:"Array.filter()",description:"The filter() method creates a new array with all elements that pass the test implemented by the provided function.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["es6","array","syntax"]},{_id:ke(),name:"Array.find()",description:"The find() method returns the value of the first element in the array that satisfies the provided testing function. Otherwise undefined is returned.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["es6","array","syntax"]},{_id:ke(),name:"Array.find()",description:"The concat() method is used to merge two or more arrays. This method does not change the existing arrays, but instead returns a new array.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["es6","array","syntax"]},{_id:ke(),name:"Array",description:"The JavaScript array is written as [] and contains a pletora of helpful functions to manipulate it.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["javascript"]},{_id:ke(),name:"Const",description:"The const is an ES6 variable.",createdAt:new Date("2019-06-22"),updatedAt:new Date("2019-06-22"),dueDate:new Date("2019-06-25"),tags:["javascript","es6"]}],(n=e.map(function(n){return Object.assign({},n,{links:e.filter(function(e){return e.tags.some(function(e){return e.includes(n.name.toLowerCase())})}).map(function(e){return{_id:ke(),type:"link",name:"child",linkedId:e._id}})})})).map(function(e){return Object.assign({},e,{links:e.links.concat(n.filter(function(n){return n.links.some(function(n){return"child"===n.name&&n.linkedId===e._id})}).map(function(e){return{_id:ke(),type:"link",name:"parent",linkedId:e._id}}))})}))),c=u[0],s=u[1],l=o.toLowerCase();Object(r.useEffect)(function(){var e=c.map(function(e){return e._id});s(c.map(function(n){return Object.assign({},n,{children:Ot(c,e,n.links,"child"),parents:Ot(c,e,n.links,"parent")})}))},[]);var d=c.sort();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ct,null,a.a.createElement(Ut,null,"ReMemory"),a.a.createElement(Tt,null,a.a.createElement(Mt,null,a.a.createElement(Gt,{id:"SearchField",type:"text",value:o,onChange:function(e){return i(e.target.value)}}),a.a.createElement(It,{onClick:function(){i(""),document.getElementById("SearchField").focus()}},"×")),a.a.createElement(Pt,null,d&&d.map(function(e){return(e.name.toLowerCase().includes(l)||e.description.toLowerCase().includes(l)||e.tags.some(function(e){return e.includes(l)}))&&a.a.createElement(Lt,null,e.parents&&a.a.createElement(Rt,null,a.a.createElement(Bt,null,e.name),e.parents.map(function(e){return a.a.createElement(zt,{onClick:function(){return i(e.name)}},e.name)})),!e.parents&&a.a.createElement(Bt,null,e.name),a.a.createElement(Ft,null,e.tags.map(function(e){return a.a.createElement(Yt,{onClick:function(){return i(e)}},e)})),e.description,e.children&&a.a.createElement(Vt,null,e.children.map(function(e){return a.a.createElement(Xt,{onClick:function(){return i(e.name)}},e.name)})))})))),a.a.createElement(_t,{onClick:function(){return document.getElementById("SearchField").focus()}},a.a.createElement("span",null,"⌃"),a.a.createElement("span",null,"⌃")))},Ct=s.b.div(jt()),Ut=s.b.h2(St(),l.a.brightGrey||"white"),Tt=s.b.div(Dt(),l.a.brightGrey||"white"),_t=s.b.div(kt(),l.a.darkGrey,l.a.brightGrey,l.a.darkerGrey),Lt=s.b.li(xt()),Mt=s.b.div(yt()),Gt=s.b.input(Et(),l.a.brightGrey,l.a.brightGrey),It=s.b.button(wt()),Pt=s.b.ul(vt()),Ft=s.b.div(ht()),Yt=s.b.span(bt(),l.a.brightGrey),Vt=Object(s.b)(Ft)(gt()),Xt=Object(s.b)(Yt)(pt()),Rt=Object(s.b)(Ft)(ft()),zt=Object(s.b)(Yt)(mt()),Bt=s.b.span(dt(),l.a.orange);function Ht(){var e=c()(["\n  background-color: ",";\n  color: ",";\n  width: 100%;\n  padding: 0.2rem 0.5rem;\n  margin: 1rem 0.2rem;\n  border: none;\n\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"]);return Ht=function(){return e},e}function Wt(){var e=c()(["\n  display: flex;\n  justify-content: stretch;\n"]);return Wt=function(){return e},e}function qt(){var e=c()(["\n  color: ",";\n  display: flex;\n  justify-content: center;\n  margin: 0;\n  padding: 0;\n"]);return qt=function(){return e},e}var Jt=["Users","Chat","Habits","ReMemory"],Kt=function(){var e=Object(r.useState)("Welcome"),n=e[0],t=e[1],o=Object(r.useState)([]),i=o[0],u=o[1],c=Object(r.useState)(void 0),s=c[0],l=c[1],d=Object(r.useState)(!1),m=d[0],f=d[1],p=Object(r.useState)(!1),g=p[0],b=p[1],v=Object(r.useState)(!1),w=v[0],E=v[1],x=Object(r.useState)(!1),k=x[0],D=x[1],S=Object(r.useState)(!1),j=S[0],O=S[1];return Object(r.useEffect)(function(){b(!1),setTimeout(function(){b(!0)},400),h(y+"/users","Unauthorized").then(function(e){e.error||(u(e),l(e.find(function(e){return e.username==={}.MOCK_USER||sessionStorage.getItem("username")&&e.password==={}.MOCK_PASSWORD||sessionStorage.getItem("password")})))}),t(sessionStorage.getItem("tab")||"Welcome")},[w,k,j]),g&&a.a.createElement(a.a.Fragment,null,!s&&!m&&a.a.createElement(Qt,null,a.a.createElement(ie,{setSignup:f,signUpSuccessful:w,setLoginSuccessful:D,setCurrentUser:l})),!s&&m&&a.a.createElement(Qt,null,a.a.createElement(Xn,{setSignUpSuccessful:E,setCurrentUser:l,currentUser:s,setSignup:f})),s&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Zt,null,Jt&&Jt.map(function(e){return a.a.createElement($t,{key:e,selected:n===e,onClick:function(){return Nt(e,t)}},e)}),a.a.createElement($t,{onClick:function(){sessionStorage.clear(),l(void 0),D(!1)}},"Sign Out")),a.a.createElement(Qt,null,"Welcome"===n&&a.a.createElement(me,{currentUser:s}),"Users"===n&&a.a.createElement(st,{currentUser:s,users:i,updateUsers:j,setUpdateUsers:O}),"Chat"===n&&a.a.createElement(Q,{users:i,currentUser:s}),"Habits"===n&&a.a.createElement(Gn,{users:i,currentUser:s}),"ReMemory"===n&&a.a.createElement(At,null))))},Nt=function(e,n){n(e),sessionStorage.setItem("tab",e)},Qt=s.b.div(qt(),l.a.white),Zt=s.b.div(Wt()),$t=s.b.button(Ht(),function(e){return e.selected?l.a.brightGrey:l.a.darkGrey},l.a.white,l.a.brightGrey);n.default=function(){return a.a.createElement(o.a,null,a.a.createElement(i.a,{title:"Home",keywords:["gatsby","application","react"]}),a.a.createElement(Kt,null))}},146:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var r={black:"#111",white:"#fff",darkerGrey:"#222",darkishGrey:"#333",darkGrey:"#3a3a3a",grey:"#444",brightGrey:"#666",darkWhite:"#ddd",orange:"#ff8c00"}},150:function(e,n,t){"use strict";t.d(n,"b",function(){return l});var r=t(0),a=t.n(r),o=t(4),i=t.n(o),u=t(33),c=t.n(u);t.d(n,"a",function(){return c.a});t(151);var s=a.a.createContext({}),l=function(e){return a.a.createElement(s.Consumer,null,function(n){return e.data||n[e.query]&&n[e.query].data?(e.render||e.children)(e.data?e.data.data:n[e.query].data):a.a.createElement("div",null,"Loading (StaticQuery)")})};l.propTypes={data:i.a.object,query:i.a.string.isRequired,render:i.a.func,children:i.a.func}},151:function(e,n,t){var r;e.exports=(r=t(153))&&r.default||r},152:function(e){e.exports={data:{site:{siteMetadata:{title:"MyWebTools"}}}}},153:function(e,n,t){"use strict";t.r(n);t(34);var r=t(0),a=t.n(r),o=t(4),i=t.n(o),u=t(55),c=t(2),s=function(e){var n=e.location,t=c.default.getResourcesForPathnameSync(n.pathname);return a.a.createElement(u.a,Object.assign({location:n,pageResources:t},t.json))};s.propTypes={location:i.a.shape({pathname:i.a.string.isRequired}).isRequired},n.default=s},154:function(e,n,t){"use strict";var r=t(155),a=t(0),o=t.n(a),i=t(4),u=t.n(i),c=t(159),s=t.n(c);function l(e){var n=e.description,t=e.lang,a=e.meta,i=e.keywords,u=e.title,c=r.data.site,l=n||c.siteMetadata.description;return o.a.createElement(s.a,{htmlAttributes:{lang:t},title:u,titleTemplate:"%s | "+c.siteMetadata.title,meta:[{name:"description",content:l},{property:"og:title",content:u},{property:"og:description",content:l},{property:"og:type",content:"website"},{name:"twitter:card",content:"summary"},{name:"twitter:creator",content:c.siteMetadata.author},{name:"twitter:title",content:u},{name:"twitter:description",content:l}].concat(i.length>0?{name:"keywords",content:i.join(", ")}:[]).concat(a)})}l.defaultProps={lang:"en",meta:[],keywords:[]},l.propTypes={description:u.a.string,lang:u.a.string,meta:u.a.array,keywords:u.a.arrayOf(u.a.string),title:u.a.string.isRequired},n.a=l},155:function(e){e.exports={data:{site:{siteMetadata:{title:"MyWebTools",description:"The modular web tools, started with a chat.",author:"@gatsbyjs"}}}}},156:function(e,n,t){"use strict";var r=t(152),a=t(0),o=t.n(a),i=t(4),u=t.n(i),c=t(150),s=t(146),l=function(e){var n=e.siteTitle;return o.a.createElement("header",{style:{background:s.a.black}},o.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"1.45rem 1.0875rem"}},o.a.createElement("h1",{style:{margin:0}},o.a.createElement(c.a,{to:"/",onClick:function(){sessionStorage.setItem("tab","Welcome"),document.location.reload()},style:{color:s.a.white,textDecoration:"none"}},n))))};l.propTypes={siteTitle:u.a.string},l.defaultProps={siteTitle:""};var d=l,m=(t(158),function(e){var n=e.children;return o.a.createElement(c.b,{query:"755544856",render:function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(d,{siteTitle:e.site.siteMetadata.title}),o.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"0 0.2rem 1.45rem",paddingTop:0}},o.a.createElement("main",null,n),o.a.createElement("footer",null)))},data:r})});m.propTypes={children:u.a.node.isRequired};n.a=m}}]);
//# sourceMappingURL=component---src-pages-index-js-836bfe294976ae3abf01.js.map